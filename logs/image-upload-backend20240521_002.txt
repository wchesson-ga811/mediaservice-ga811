2024-05-21 11:53:37.272 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:53:37.311 -04:00 [DBG] Hosting starting
2024-05-21 11:53:37.372 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:53:37.372 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:53:37.372 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:53:37.372 -04:00 [INF] Hosting environment: Development
2024-05-21 11:53:37.372 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:53:37.372 -04:00 [DBG] Hosting started
2024-05-21 11:53:37.490 -04:00 [DBG] Connection id "0HN3PLOMOFCI3" accepted.
2024-05-21 11:53:37.491 -04:00 [DBG] Connection id "0HN3PLOMOFCI3" started.
2024-05-21 11:53:37.495 -04:00 [DBG] Connection id "0HN3PLOMOFCI4" accepted.
2024-05-21 11:53:37.495 -04:00 [DBG] Connection id "0HN3PLOMOFCI4" started.
2024-05-21 11:53:37.508 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:53:37.510 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:53:37.518 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:53:37.519 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:53:37.558 -04:00 [DBG] Connection id "0HN3PLOMOFCI3" completed keep alive response.
2024-05-21 11:53:37.559 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 52.1461ms
2024-05-21 11:53:37.712 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:53:37.712 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:53:37.712 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:53:37.763 -04:00 [DBG] Connection id "0HN3PLOMOFCI3" completed keep alive response.
2024-05-21 11:53:37.763 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.544ms
2024-05-21 11:53:54.188 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:53:54.221 -04:00 [DBG] Hosting starting
2024-05-21 11:53:54.278 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:53:54.278 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:53:54.279 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:53:54.279 -04:00 [INF] Hosting environment: Development
2024-05-21 11:53:54.279 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:53:54.279 -04:00 [DBG] Hosting started
2024-05-21 11:53:54.384 -04:00 [DBG] Connection id "0HN3PLORPIPS7" accepted.
2024-05-21 11:53:54.384 -04:00 [DBG] Connection id "0HN3PLORPIPS7" started.
2024-05-21 11:53:54.387 -04:00 [DBG] Connection id "0HN3PLORPIPS8" accepted.
2024-05-21 11:53:54.388 -04:00 [DBG] Connection id "0HN3PLORPIPS8" started.
2024-05-21 11:53:54.400 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:53:54.402 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:53:54.410 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:53:54.410 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:53:54.444 -04:00 [DBG] Connection id "0HN3PLORPIPS7" completed keep alive response.
2024-05-21 11:53:54.445 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 45.8852ms
2024-05-21 11:53:54.527 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:53:54.527 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:53:54.527 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:53:54.575 -04:00 [DBG] Connection id "0HN3PLORPIPS7" completed keep alive response.
2024-05-21 11:53:54.575 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.1731ms
2024-05-21 11:54:05.380 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryZEAuKgTSYt2DX1bI 11376433
2024-05-21 11:54:05.385 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.389 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:54:05.391 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:54:05.391 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:54:05.393 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:54:05.393 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:54:05.407 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:54:05.408 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:54:05.408 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:54:05.409 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:54:05.409 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:54:05.409 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:54:05.410 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:54:05.535 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:54:05.545 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:54:05.548 -04:00 [DBG] Connection id "0HN3PLORPIPS7", Request id "0HN3PLORPIPS7:00000003": started reading request body.
2024-05-21 11:54:05.563 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.568 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.574 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.576 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.582 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.583 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.589 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.592 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.598 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.600 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.605 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.607 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.613 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.616 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.622 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.623 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.629 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.631 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.636 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.639 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.645 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.646 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.652 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.653 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.660 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.663 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.669 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.670 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.676 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.677 -04:00 [DBG] Connection id "0HN3PLORPIPS7" paused.
2024-05-21 11:54:05.683 -04:00 [DBG] Connection id "0HN3PLORPIPS7" resumed.
2024-05-21 11:54:05.684 -04:00 [DBG] Connection id "0HN3PLORPIPS7", Request id "0HN3PLORPIPS7:00000003": done reading request body.
2024-05-21 11:54:05.694 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:54:05.695 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:54:05.697 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:54:05.698 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:54:05.699 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:54:05.699 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:54:05.699 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:54:05.699 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:54:05.700 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:54:05.700 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:54:05.700 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:54:05.700 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:54:05.700 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:54:05.700 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:54:05.700 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:54:05.704 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:54:05.708 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:54:05 AM
2024-05-21 11:54:05.716 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:54:05.745 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:54:20.808 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:54:27.127 -04:00 [INF] Creating new upload entity
2024-05-21 11:54:55.377 -04:00 [INF] Creating upload at 5/21/2024 11:54:41 AM
2024-05-21 11:54:57.029 -04:00 [DBG] Connection id "0HN3PLORPIPS8" received FIN.
2024-05-21 11:54:57.035 -04:00 [DBG] Connection id "0HN3PLORPIPS8" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:55:03.043 -04:00 [DBG] Connection id "0HN3PLORPIPS8" disconnecting.
2024-05-21 11:55:04.379 -04:00 [DBG] Connection id "0HN3PLORPIPS8" stopped.
2024-05-21 11:55:06.904 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 11:55:07.053 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 11:55:07.116 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 11:55:07.131 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 11:55:09.539 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 11:55:25.529 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:55:25.531 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:55:25.536 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:55:25.570 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:55:25.595 -04:00 [DBG] Created DbConnection. (23ms).
2024-05-21 11:55:25.597 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 11:55:25.675 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 11:55:25.690 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 11:55:33.242 -04:00 [ERR] Error at 5/21/2024 11:54:41 AM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 11:55:58.667 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:55:58.668 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:55:58.668 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:55:58.668 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:55:58.668 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:55:58.668 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:55:58.687 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 113275.9573ms
2024-05-21 11:55:58.687 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:55:58.688 -04:00 [DBG] Connection id "0HN3PLORPIPS7" completed keep alive response.
2024-05-21 11:55:58.691 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:55:58.694 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 11:55:58.696 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 11:55:58.697 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 113316.775ms
2024-05-21 11:57:58.009 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:57:58.040 -04:00 [DBG] Hosting starting
2024-05-21 11:57:58.097 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:57:58.097 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:57:58.098 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:57:58.098 -04:00 [INF] Hosting environment: Development
2024-05-21 11:57:58.098 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:57:58.098 -04:00 [DBG] Hosting started
2024-05-21 11:57:58.215 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" accepted.
2024-05-21 11:57:58.216 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" started.
2024-05-21 11:57:58.219 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" accepted.
2024-05-21 11:57:58.219 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" started.
2024-05-21 11:57:58.231 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:57:58.233 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:57:58.241 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:57:58.241 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:57:58.275 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" completed keep alive response.
2024-05-21 11:57:58.276 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 45.5474ms
2024-05-21 11:57:58.543 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:57:58.543 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:57:58.543 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:57:58.592 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" completed keep alive response.
2024-05-21 11:57:58.592 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 49.1464ms
2024-05-21 11:58:11.968 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundary6AGN9JfpQtec1kWb 10516980
2024-05-21 11:58:11.975 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:11.976 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:58:11.978 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:58:11.978 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:58:11.980 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:58:11.981 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:58:11.992 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:58:11.994 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:58:11.994 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:58:11.995 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:58:11.995 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:58:11.995 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:58:11.996 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:58:12.116 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:58:12.123 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:58:12.127 -04:00 [DBG] Connection id "0HN3PLR4EU6MS", Request id "0HN3PLR4EU6MS:00000003": started reading request body.
2024-05-21 11:58:12.148 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.150 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.157 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.158 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.164 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.165 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.172 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.174 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.180 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.181 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.187 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.188 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.193 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.197 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.203 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.204 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.210 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.211 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.217 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.220 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.229 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.231 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.239 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.240 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.246 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.248 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.254 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.256 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" paused.
2024-05-21 11:58:12.261 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" resumed.
2024-05-21 11:58:12.262 -04:00 [DBG] Connection id "0HN3PLR4EU6MS", Request id "0HN3PLR4EU6MS:00000003": done reading request body.
2024-05-21 11:58:12.272 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:58:12.274 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:58:12.276 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:58:12.276 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:58:12.277 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:58:12.278 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:58:12.278 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:58:12.278 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:58:12.278 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:58:12.278 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:58:12.278 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:58:12.278 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:58:12.279 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:58:12.279 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:58:12.279 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:58:12.282 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:58:12.287 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:58:12 AM
2024-05-21 11:58:12.294 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:58:12.322 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:58:18.756 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:58:18.762 -04:00 [INF] Creating new upload entity
2024-05-21 11:58:18.763 -04:00 [INF] Creating upload at 5/21/2024 11:58:18 AM
2024-05-21 11:58:18.768 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 11:58:18.912 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 11:58:18.976 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 11:58:18.996 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 11:58:19.075 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 11:58:19.076 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:58:19.078 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:58:19.083 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:58:19.118 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:58:19.135 -04:00 [DBG] Created DbConnection. (14ms).
2024-05-21 11:58:19.138 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 11:58:19.210 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 11:58:19.225 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 11:58:19.247 -04:00 [ERR] Error at 5/21/2024 11:58:18 AM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 11:58:39.801 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:58:39.801 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:58:39.802 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:58:39.802 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:58:39.802 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:58:39.802 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:58:39.820 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 27817.3125ms
2024-05-21 11:58:39.820 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:58:39.821 -04:00 [DBG] Connection id "0HN3PLR4EU6MS" completed keep alive response.
2024-05-21 11:58:39.824 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:58:39.827 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 11:58:39.829 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 11:58:39.829 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 27861.1669ms
2024-05-21 11:58:59.920 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" received FIN.
2024-05-21 11:58:59.927 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:58:59.928 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" disconnecting.
2024-05-21 11:58:59.932 -04:00 [DBG] Connection id "0HN3PLR4EU6MT" stopped.
2024-05-21 11:59:50.579 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:59:50.615 -04:00 [DBG] Hosting starting
2024-05-21 11:59:50.671 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:59:50.671 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:59:50.671 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:59:50.671 -04:00 [INF] Hosting environment: Development
2024-05-21 11:59:50.671 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:59:50.671 -04:00 [DBG] Hosting started
2024-05-21 11:59:50.767 -04:00 [DBG] Connection id "0HN3PLS60A91A" accepted.
2024-05-21 11:59:50.768 -04:00 [DBG] Connection id "0HN3PLS60A91A" started.
2024-05-21 11:59:50.771 -04:00 [DBG] Connection id "0HN3PLS60A91B" accepted.
2024-05-21 11:59:50.771 -04:00 [DBG] Connection id "0HN3PLS60A91B" started.
2024-05-21 11:59:50.785 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:59:50.787 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:59:50.796 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:59:50.796 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:59:50.832 -04:00 [DBG] Connection id "0HN3PLS60A91A" completed keep alive response.
2024-05-21 11:59:50.832 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 48.2048ms
2024-05-21 11:59:50.913 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:59:50.914 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:59:50.914 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:59:50.964 -04:00 [DBG] Connection id "0HN3PLS60A91A" completed keep alive response.
2024-05-21 11:59:50.964 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.6702ms
2024-05-21 12:00:03.843 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 12:00:03.874 -04:00 [DBG] Hosting starting
2024-05-21 12:00:03.941 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 12:00:03.941 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 12:00:03.942 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 12:00:03.942 -04:00 [INF] Hosting environment: Development
2024-05-21 12:00:03.942 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 12:00:03.942 -04:00 [DBG] Hosting started
2024-05-21 12:00:04.043 -04:00 [DBG] Connection id "0HN3PLS9UTTFS" accepted.
2024-05-21 12:00:04.045 -04:00 [DBG] Connection id "0HN3PLS9UTTFS" started.
2024-05-21 12:00:04.048 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" accepted.
2024-05-21 12:00:04.048 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" started.
2024-05-21 12:00:04.061 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:00:04.063 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 12:00:04.071 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:00:04.071 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:04.107 -04:00 [DBG] Connection id "0HN3PLS9UTTFS" completed keep alive response.
2024-05-21 12:00:04.108 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 47.3829ms
2024-05-21 12:00:04.190 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:00:04.190 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:00:04.191 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:04.242 -04:00 [DBG] Connection id "0HN3PLS9UTTFS" completed keep alive response.
2024-05-21 12:00:04.242 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.9924ms
2024-05-21 12:00:10.126 -04:00 [DBG] Connection id "0HN3PLS9UTTFU" accepted.
2024-05-21 12:00:10.126 -04:00 [DBG] Connection id "0HN3PLS9UTTFU" started.
2024-05-21 12:00:10.127 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:00:10.127 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:00:10.127 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.129 -04:00 [DBG] Connection id "0HN3PLS9UTTFU" completed keep alive response.
2024-05-21 12:00:10.129 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 2.5403ms
2024-05-21 12:00:10.187 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui.css - null null
2024-05-21 12:00:10.187 -04:00 [DBG] No candidates found for the request path '/swagger/swagger-ui.css'
2024-05-21 12:00:10.187 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.188 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" accepted.
2024-05-21 12:00:10.188 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" started.
2024-05-21 12:00:10.188 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui-bundle.js - null null
2024-05-21 12:00:10.188 -04:00 [DBG] Connection id "0HN3PLS9UTTG0" accepted.
2024-05-21 12:00:10.189 -04:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-bundle.js'
2024-05-21 12:00:10.189 -04:00 [DBG] Connection id "0HN3PLS9UTTG0" started.
2024-05-21 12:00:10.189 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.191 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui-standalone-preset.js - null null
2024-05-21 12:00:10.191 -04:00 [DBG] No candidates found for the request path '/swagger/swagger-ui-standalone-preset.js'
2024-05-21 12:00:10.192 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.222 -04:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2024-05-21 12:00:10.222 -04:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2024-05-21 12:00:10.223 -04:00 [DBG] Connection id "0HN3PLS9UTTFU" completed keep alive response.
2024-05-21 12:00:10.223 -04:00 [DBG] Connection id "0HN3PLS9UTTG0" completed keep alive response.
2024-05-21 12:00:10.224 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui.css - 200 143943 text/css 37.0803ms
2024-05-21 12:00:10.224 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui-standalone-preset.js - 200 339486 text/javascript 34.6628ms
2024-05-21 12:00:10.229 -04:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2024-05-21 12:00:10.229 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" completed keep alive response.
2024-05-21 12:00:10.229 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/swagger-ui-bundle.js - 200 1096145 text/javascript 40.8212ms
2024-05-21 12:00:10.314 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:00:10.314 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:00:10.314 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.317 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" completed keep alive response.
2024-05-21 12:00:10.317 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 2.7661ms
2024-05-21 12:00:10.324 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/favicon-32x32.png - null null
2024-05-21 12:00:10.324 -04:00 [DBG] No candidates found for the request path '/swagger/favicon-32x32.png'
2024-05-21 12:00:10.324 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:00:10.324 -04:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2024-05-21 12:00:10.324 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" completed keep alive response.
2024-05-21 12:00:10.324 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/favicon-32x32.png - 200 628 image/png 0.899ms
2024-05-21 12:00:37.989 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryUQeoxFpgRrrVJsA9 4930395
2024-05-21 12:00:37.989 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:37.992 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:00:37.994 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:00:37.994 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:00:37.995 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:00:37.996 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:00:38.007 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:00:38.008 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:00:38.008 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:00:38.009 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:00:38.009 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:00:38.009 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:00:38.010 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:00:38.114 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 12:00:38.122 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:00:38.125 -04:00 [DBG] Connection id "0HN3PLS9UTTFV", Request id "0HN3PLS9UTTFV:00000004": started reading request body.
2024-05-21 12:00:38.148 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.149 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:38.156 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.157 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:38.163 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.165 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:38.170 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.172 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:38.181 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.182 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" paused.
2024-05-21 12:00:38.189 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" resumed.
2024-05-21 12:00:38.191 -04:00 [DBG] Connection id "0HN3PLS9UTTFV", Request id "0HN3PLS9UTTFV:00000004": done reading request body.
2024-05-21 12:00:38.206 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:00:38.208 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:00:38.209 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:00:38.210 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:00:38.211 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:00:38.211 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:00:38.211 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:00:38.211 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:00:38.212 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:00:38.212 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:00:38.212 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:00:38.212 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:00:38.212 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:00:38.212 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:00:38.212 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:00:38.216 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:00:38.219 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:00:38 PM
2024-05-21 12:00:38.225 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:00:38.257 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:00:38.257 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:00:38.262 -04:00 [INF] Creating new upload entity
2024-05-21 12:00:38.263 -04:00 [INF] Creating upload at 5/21/2024 12:00:38 PM
2024-05-21 12:00:38.267 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 12:00:38.411 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 12:00:38.474 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:00:38.493 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 12:00:38.572 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 12:00:38.574 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:00:38.576 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:00:38.581 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:00:38.621 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:00:38.644 -04:00 [DBG] Created DbConnection. (21ms).
2024-05-21 12:00:38.647 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:00:38.728 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:00:38.745 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:00:38.778 -04:00 [ERR] Error at 5/21/2024 12:00:38 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:01:06.181 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" received FIN.
2024-05-21 12:01:06.245 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:01:08.838 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" disconnecting.
2024-05-21 12:03:33.295 -04:00 [DBG] Connection id "0HN3PLS9UTTFT" stopped.
2024-05-21 12:03:33.296 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:03:33.297 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:03:33.297 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:03:33.297 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:03:33.297 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:03:33.298 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 12:03:33.307 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 175296.6089ms
2024-05-21 12:03:33.307 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:03:33.307 -04:00 [DBG] Connection id "0HN3PLS9UTTFV" completed keep alive response.
2024-05-21 12:03:33.309 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:03:33.312 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:03:33.314 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 12:03:33.315 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 175325.9205ms
2024-05-21 12:03:49.606 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 12:03:49.638 -04:00 [DBG] Hosting starting
2024-05-21 12:03:49.692 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 12:03:49.693 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 12:03:49.693 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 12:03:49.693 -04:00 [INF] Hosting environment: Development
2024-05-21 12:03:49.693 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 12:03:49.693 -04:00 [DBG] Hosting started
2024-05-21 12:03:49.820 -04:00 [DBG] Connection id "0HN3PLUD83L9I" accepted.
2024-05-21 12:03:49.821 -04:00 [DBG] Connection id "0HN3PLUD83L9I" started.
2024-05-21 12:03:49.824 -04:00 [DBG] Connection id "0HN3PLUD83L9J" accepted.
2024-05-21 12:03:49.825 -04:00 [DBG] Connection id "0HN3PLUD83L9J" started.
2024-05-21 12:03:49.837 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:03:49.839 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 12:03:49.848 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:03:49.848 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:03:49.885 -04:00 [DBG] Connection id "0HN3PLUD83L9I" completed keep alive response.
2024-05-21 12:03:49.886 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 49.4608ms
2024-05-21 12:03:49.968 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:03:49.968 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:03:49.968 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:03:50.019 -04:00 [DBG] Connection id "0HN3PLUD83L9I" completed keep alive response.
2024-05-21 12:03:50.019 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.8157ms
2024-05-21 12:04:26.043 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryKM2RibthByJNC7KD 10516980
2024-05-21 12:04:26.059 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.060 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:04:26.065 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:04:26.066 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:04:26.072 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:04:26.073 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:04:26.119 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:04:26.125 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:04:26.125 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:04:26.129 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:04:26.129 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:04:26.129 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:04:26.132 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:04:26.473 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 12:04:26.505 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:04:26.519 -04:00 [DBG] Connection id "0HN3PLUD83L9I", Request id "0HN3PLUD83L9I:00000003": started reading request body.
2024-05-21 12:04:26.589 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.598 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.624 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.633 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.649 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.655 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.675 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.682 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.702 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.710 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.728 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.735 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.756 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.762 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.777 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.786 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.803 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.808 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.821 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.827 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.851 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.855 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.869 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.873 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.887 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.890 -04:00 [DBG] Connection id "0HN3PLUD83L9I" paused.
2024-05-21 12:04:26.906 -04:00 [DBG] Connection id "0HN3PLUD83L9I" resumed.
2024-05-21 12:04:26.909 -04:00 [DBG] Connection id "0HN3PLUD83L9I", Request id "0HN3PLUD83L9I:00000003": done reading request body.
2024-05-21 12:04:26.950 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:04:26.954 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:04:26.958 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:04:26.959 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:04:26.961 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:04:26.962 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:04:26.962 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:04:26.962 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:04:26.963 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:04:26.963 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:04:26.963 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:04:26.963 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:04:26.964 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:04:26.964 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:04:26.964 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:04:26.972 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:04:26.987 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:04:26 PM
2024-05-21 12:04:27.003 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:04:27.095 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:04:27.098 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:04:27.113 -04:00 [INF] Creating new upload entity
2024-05-21 12:04:27.114 -04:00 [INF] Creating upload at 5/21/2024 12:04:27 PM
2024-05-21 12:04:27.128 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 12:04:27.532 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 12:04:27.703 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:04:27.765 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 12:04:28.032 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 12:04:28.036 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:04:28.040 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:04:28.055 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:04:28.161 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:04:28.194 -04:00 [DBG] Created DbConnection. (28ms).
2024-05-21 12:04:28.199 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:04:28.430 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:04:28.478 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:04:28.609 -04:00 [ERR] Error at 5/21/2024 12:04:27 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:04:45.936 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:04:45.937 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:04:45.937 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:04:45.937 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:04:45.937 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:04:45.938 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 12:04:45.948 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 19816.8006ms
2024-05-21 12:04:45.948 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:04:45.949 -04:00 [DBG] Connection id "0HN3PLUD83L9I" completed keep alive response.
2024-05-21 12:04:45.951 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:04:45.954 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:04:45.956 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 12:04:45.957 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 19914.038ms
2024-05-21 12:04:50.918 -04:00 [DBG] Connection id "0HN3PLUD83L9J" received FIN.
2024-05-21 12:04:50.921 -04:00 [DBG] Connection id "0HN3PLUD83L9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:04:50.926 -04:00 [DBG] Connection id "0HN3PLUD83L9J" disconnecting.
2024-05-21 12:04:50.928 -04:00 [DBG] Connection id "0HN3PLUD83L9J" stopped.
2024-05-21 12:06:27.051 -04:00 [DBG] Connection id "0HN3PLUD83L9I" received FIN.
2024-05-21 12:06:27.053 -04:00 [DBG] Connection id "0HN3PLUD83L9I" disconnecting.
2024-05-21 12:06:27.053 -04:00 [DBG] Connection id "0HN3PLUD83L9I" stopped.
2024-05-21 12:06:27.054 -04:00 [DBG] Connection id "0HN3PLUD83L9I" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:06:37.904 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 12:06:37.938 -04:00 [DBG] Hosting starting
2024-05-21 12:06:37.995 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 12:06:37.996 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 12:06:37.996 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 12:06:37.996 -04:00 [INF] Hosting environment: Development
2024-05-21 12:06:37.996 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 12:06:37.996 -04:00 [DBG] Hosting started
2024-05-21 12:06:38.734 -04:00 [DBG] Connection id "0HN3PLVVIVV34" accepted.
2024-05-21 12:06:38.737 -04:00 [DBG] Connection id "0HN3PLVVIVV34" started.
2024-05-21 12:06:38.738 -04:00 [DBG] Connection id "0HN3PLVVIVV35" accepted.
2024-05-21 12:06:38.739 -04:00 [DBG] Connection id "0HN3PLVVIVV35" started.
2024-05-21 12:06:38.803 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:06:38.807 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 12:06:38.823 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:06:38.824 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:06:38.892 -04:00 [DBG] Connection id "0HN3PLVVIVV34" completed keep alive response.
2024-05-21 12:06:38.893 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 91.3634ms
2024-05-21 12:06:39.048 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:06:39.049 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:06:39.049 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:06:39.106 -04:00 [DBG] Connection id "0HN3PLVVIVV34" completed keep alive response.
2024-05-21 12:06:39.106 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 57.6103ms
2024-05-21 12:06:40.990 -04:00 [DBG] Connection id "0HN3PLVVIVV34" received FIN.
2024-05-21 12:06:40.990 -04:00 [DBG] Connection id "0HN3PLVVIVV35" received FIN.
2024-05-21 12:06:40.995 -04:00 [DBG] Connection id "0HN3PLVVIVV34" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:06:40.995 -04:00 [DBG] Connection id "0HN3PLVVIVV35" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:06:40.995 -04:00 [DBG] Connection id "0HN3PLVVIVV35" disconnecting.
2024-05-21 12:06:40.995 -04:00 [DBG] Connection id "0HN3PLVVIVV34" disconnecting.
2024-05-21 12:06:40.999 -04:00 [DBG] Connection id "0HN3PLVVIVV35" stopped.
2024-05-21 12:06:40.999 -04:00 [DBG] Connection id "0HN3PLVVIVV34" stopped.
2024-05-21 12:06:49.132 -04:00 [DBG] Connection id "0HN3PLVVIVV36" accepted.
2024-05-21 12:06:49.132 -04:00 [DBG] Connection id "0HN3PLVVIVV36" started.
2024-05-21 12:06:49.134 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryoJmvD3vZv0TpSUbP 11376433
2024-05-21 12:06:49.141 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:06:49.142 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.145 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:06:49.145 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:06:49.152 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:06:49.154 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:06:49.188 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:06:49.190 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:06:49.190 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:06:49.193 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:06:49.193 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:06:49.193 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:06:49.195 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:06:49.541 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 12:06:49.560 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:06:49.567 -04:00 [DBG] Connection id "0HN3PLVVIVV36", Request id "0HN3PLVVIVV36:00000001": started reading request body.
2024-05-21 12:06:49.599 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.605 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.620 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.624 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.637 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.642 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.658 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.666 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.681 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.686 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.701 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.705 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.718 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.726 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.740 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.743 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.761 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.766 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.781 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.789 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.802 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.805 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.818 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.822 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.836 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.842 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.856 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.859 -04:00 [DBG] Connection id "0HN3PLVVIVV36" paused.
2024-05-21 12:06:49.876 -04:00 [DBG] Connection id "0HN3PLVVIVV36" resumed.
2024-05-21 12:06:49.877 -04:00 [DBG] Connection id "0HN3PLVVIVV36", Request id "0HN3PLVVIVV36:00000001": done reading request body.
2024-05-21 12:06:49.905 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:06:49.909 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:06:49.914 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:06:49.915 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:06:49.918 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:06:49.918 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:06:49.919 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:06:49.919 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:06:49.919 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:06:49.919 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:06:49.919 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:06:49.920 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:06:49.920 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:06:49.920 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:06:49.921 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:06:49.929 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:06:49.939 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:06:49 PM
2024-05-21 12:06:49.948 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:06:50.006 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:06:50.008 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:06:50.019 -04:00 [INF] Creating new upload entity
2024-05-21 12:06:50.021 -04:00 [INF] Creating upload at 5/21/2024 12:06:50 PM
2024-05-21 12:06:50.034 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 12:06:50.421 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 12:06:50.599 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:06:50.648 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 12:06:50.837 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 12:06:50.842 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:06:50.846 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:06:50.862 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:06:50.954 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:06:50.983 -04:00 [DBG] Created DbConnection. (24ms).
2024-05-21 12:06:50.990 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:06:51.207 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:06:51.245 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:06:51.354 -04:00 [ERR] Error at 5/21/2024 12:06:50 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:09:43.063 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 12:09:43.096 -04:00 [DBG] Hosting starting
2024-05-21 12:09:43.164 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 12:09:43.164 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 12:09:43.165 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 12:09:43.165 -04:00 [INF] Hosting environment: Development
2024-05-21 12:09:43.165 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 12:09:43.165 -04:00 [DBG] Hosting started
2024-05-21 12:09:43.270 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" accepted.
2024-05-21 12:09:43.271 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" started.
2024-05-21 12:09:43.274 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" accepted.
2024-05-21 12:09:43.274 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" started.
2024-05-21 12:09:43.287 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:09:43.289 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 12:09:43.297 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:09:43.297 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:09:43.333 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" completed keep alive response.
2024-05-21 12:09:43.333 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 47.6357ms
2024-05-21 12:09:43.579 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:09:43.579 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:09:43.579 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:09:43.625 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" completed keep alive response.
2024-05-21 12:09:43.626 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 46.8417ms
2024-05-21 12:09:54.272 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundary5AzJpa196Xze14sj 11376433
2024-05-21 12:09:54.279 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:09:54.280 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.282 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:09:54.283 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:09:54.286 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:09:54.287 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:09:54.324 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:09:54.327 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:09:54.327 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:09:54.329 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:09:54.329 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:09:54.330 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:09:54.332 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:09:54.670 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 12:09:54.698 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:09:54.709 -04:00 [DBG] Connection id "0HN3PM1MIRQK7", Request id "0HN3PM1MIRQK7:00000003": started reading request body.
2024-05-21 12:09:54.764 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.788 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.814 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.824 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.852 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.860 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.885 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.896 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.913 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.919 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.933 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.938 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.952 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.959 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.971 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.976 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:54.993 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:54.997 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.011 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.018 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.037 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.044 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.061 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.068 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.087 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.095 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.173 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.178 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" paused.
2024-05-21 12:09:55.202 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" resumed.
2024-05-21 12:09:55.203 -04:00 [DBG] Connection id "0HN3PM1MIRQK7", Request id "0HN3PM1MIRQK7:00000003": done reading request body.
2024-05-21 12:09:55.229 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:09:55.232 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:09:55.236 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:09:55.237 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:09:55.240 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:09:55.240 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:09:55.241 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:09:55.241 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:09:55.241 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:09:55.241 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:09:55.242 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:09:55.242 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:09:55.242 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:09:55.243 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:09:55.243 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:09:55.251 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:09:55.261 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:09:55 PM
2024-05-21 12:09:55.271 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:09:55.359 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:09:55.361 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:09:55.373 -04:00 [INF] Creating new upload entity
2024-05-21 12:09:55.375 -04:00 [INF] Creating upload at 5/21/2024 12:09:55 PM
2024-05-21 12:09:55.387 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 12:09:55.842 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 12:09:56.016 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:09:56.062 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 12:09:56.271 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 12:09:56.278 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:09:56.283 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:09:56.299 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:09:56.404 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:09:56.447 -04:00 [DBG] Created DbConnection. (36ms).
2024-05-21 12:09:56.454 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:09:56.693 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:09:56.745 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:09:56.878 -04:00 [ERR] Error at 5/21/2024 12:09:55 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:10:07.878 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:10:07.878 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:10:07.878 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:10:07.879 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" completed keep alive response.
2024-05-21 12:10:07.880 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 1.9246ms
2024-05-21 12:10:07.883 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:10:07.886 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" received FIN.
2024-05-21 12:10:07.886 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:10:07.887 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:10:07.887 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:10:07.887 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:10:07.889 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" disconnecting.
2024-05-21 12:10:07.890 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:10:07.891 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 12:10:07.927 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 13593.6942ms
2024-05-21 12:10:07.928 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:10:07.935 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:10:07.936 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:10:07.936 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:10:07.936 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:10:07.942 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" completed keep alive response.
2024-05-21 12:10:07.943 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 7.2524ms
2024-05-21 12:10:07.944 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:10:07.950 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 12:10:07.951 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 499 null application/json; charset=utf-8 13678.8059ms
2024-05-21 12:10:07.953 -04:00 [DBG] Connection id "0HN3PM1MIRQK7" stopped.
2024-05-21 12:10:57.274 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryzQssOKBTGkYaUcw3 10516980
2024-05-21 12:10:57.276 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:10:57.276 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:10:57.276 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:10:57.277 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:10:57.277 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:10:57.277 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:10:57.277 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:10:57.277 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:10:57.278 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:10:57.278 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:10:57.278 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:10:57.278 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:10:57.280 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.295 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:10:57.296 -04:00 [DBG] Connection id "0HN3PM1MIRQK8", Request id "0HN3PM1MIRQK8:00000003": started reading request body.
2024-05-21 12:10:57.316 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.324 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.346 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.349 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.363 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.367 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.382 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.385 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.398 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.403 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.414 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.416 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.436 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.439 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.461 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.472 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.484 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.486 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.501 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.503 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.517 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.522 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.536 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.538 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.550 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.552 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.564 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.567 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" paused.
2024-05-21 12:10:57.579 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" resumed.
2024-05-21 12:10:57.582 -04:00 [DBG] Connection id "0HN3PM1MIRQK8", Request id "0HN3PM1MIRQK8:00000003": done reading request body.
2024-05-21 12:10:57.608 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:10:57.609 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:10:57.609 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:10:57.610 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:10:57.610 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:10:57.610 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:10:57.610 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:10:57.611 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:10:57.611 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:10:57.611 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:10:57.611 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:10:57.612 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:10:57.612 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:10:57.612 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:10:57.612 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:10:57.613 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:10:57.614 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:10:57 PM
2024-05-21 12:10:57.614 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:10:57.617 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:10:57.617 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:10:57.619 -04:00 [INF] Creating new upload entity
2024-05-21 12:10:57.619 -04:00 [INF] Creating upload at 5/21/2024 12:10:57 PM
2024-05-21 12:10:57.698 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:10:57.700 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482646' for the property 'UploadInfo.UploadId'.
2024-05-21 12:10:57.701 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482646}'.
2024-05-21 12:10:57.701 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:10:57.702 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:10:57.703 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:10:57.708 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:10:57.708 -04:00 [DBG] Created DbConnection. (0ms).
2024-05-21 12:10:57.709 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:10:57.710 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:10:57.713 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:10:57.783 -04:00 [ERR] Error at 5/21/2024 12:10:57 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:11:08.766 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:11:08.767 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:11:08.767 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:11:08.767 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:11:08.768 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:11:08.768 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 12:11:08.769 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 11491.4713ms
2024-05-21 12:11:08.770 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:11:08.770 -04:00 [DBG] Connection id "0HN3PM1MIRQK8" completed keep alive response.
2024-05-21 12:11:08.774 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:11:08.774 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:11:08.775 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 12:11:08.775 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 11501.0117ms
2024-05-21 12:12:27.012 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 12:12:27.045 -04:00 [DBG] Hosting starting
2024-05-21 12:12:27.104 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 12:12:27.104 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 12:12:27.104 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 12:12:27.104 -04:00 [INF] Hosting environment: Development
2024-05-21 12:12:27.104 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 12:12:27.104 -04:00 [DBG] Hosting started
2024-05-21 12:12:27.203 -04:00 [DBG] Connection id "0HN3PM37E86D9" accepted.
2024-05-21 12:12:27.204 -04:00 [DBG] Connection id "0HN3PM37E86D9" started.
2024-05-21 12:12:27.206 -04:00 [DBG] Connection id "0HN3PM37E86DA" accepted.
2024-05-21 12:12:27.207 -04:00 [DBG] Connection id "0HN3PM37E86DA" started.
2024-05-21 12:12:27.219 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:12:27.221 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 12:12:27.229 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:12:27.230 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:12:27.264 -04:00 [DBG] Connection id "0HN3PM37E86D9" completed keep alive response.
2024-05-21 12:12:27.264 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 45.8519ms
2024-05-21 12:12:27.387 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:12:27.387 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:12:27.387 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:12:27.435 -04:00 [DBG] Connection id "0HN3PM37E86D9" completed keep alive response.
2024-05-21 12:12:27.435 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 48.0993ms
2024-05-21 12:12:39.718 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundary4LK8xvV6lChHj0Pe 11376433
2024-05-21 12:12:39.724 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:12:39.727 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:39.727 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:12:39.728 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:12:39.732 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:12:39.733 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:12:39.770 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:12:39.774 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:12:39.774 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:12:39.776 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:12:39.776 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:12:39.777 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:12:39.779 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:12:40.131 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 12:12:40.161 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:12:40.170 -04:00 [DBG] Connection id "0HN3PM37E86D9", Request id "0HN3PM37E86D9:00000003": started reading request body.
2024-05-21 12:12:40.242 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.253 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.275 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.280 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.300 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.308 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.327 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.334 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.351 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.355 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.370 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.377 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.393 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.399 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.411 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.415 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.428 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.434 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.447 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.454 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.466 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.471 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.486 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.492 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.511 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.517 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.534 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.538 -04:00 [DBG] Connection id "0HN3PM37E86D9" paused.
2024-05-21 12:12:40.552 -04:00 [DBG] Connection id "0HN3PM37E86D9" resumed.
2024-05-21 12:12:40.553 -04:00 [DBG] Connection id "0HN3PM37E86D9", Request id "0HN3PM37E86D9:00000003": done reading request body.
2024-05-21 12:12:40.583 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:12:40.587 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:12:40.592 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:12:40.595 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:12:40.598 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:12:40.599 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:12:40.600 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:12:40.600 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:12:40.601 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:12:40.601 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:12:40.602 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:12:40.602 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:12:40.604 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:12:40.604 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:12:40.604 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:12:40.618 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:12:40.637 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:12:40 PM
2024-05-21 12:12:40.655 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:12:40.752 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:12:40.755 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:12:40.768 -04:00 [INF] Creating new upload entity
2024-05-21 12:12:40.770 -04:00 [INF] Creating upload at 5/21/2024 12:12:40 PM
2024-05-21 12:12:40.782 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 12:12:41.175 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 12:12:41.364 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:12:41.423 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 12:12:41.649 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 12:12:41.653 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:12:41.657 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:12:41.673 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:12:41.763 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:12:41.794 -04:00 [DBG] Created DbConnection. (27ms).
2024-05-21 12:12:41.800 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:12:42.036 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:12:42.085 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:12:42.228 -04:00 [ERR] Error at 5/21/2024 12:12:40 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:12:46.783 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 12:12:46.785 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 12:12:46.785 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:12:46.825 -04:00 [DBG] Connection id "0HN3PM37E86DA" completed keep alive response.
2024-05-21 12:12:46.850 -04:00 [DBG] Connection id "0HN3PM37E86D9" received FIN.
2024-05-21 12:12:46.850 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 94.8013ms
2024-05-21 12:12:46.872 -04:00 [DBG] Connection id "0HN3PM37E86D9" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:12:46.873 -04:00 [DBG] Connection id "0HN3PM37E86D9" disconnecting.
2024-05-21 12:12:46.873 -04:00 [ERR] System.Exception: Error creating upload
 ---> System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
   --- End of inner exception stack trace ---
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 278
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 128
2024-05-21 12:12:53.619 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 12:12:53.619 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 12:12:53.619 -04:00 [DBG] Request did not match any endpoints
2024-05-21 12:12:53.622 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:12:53.623 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:12:53.623 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:12:53.623 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:12:53.623 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:12:53.624 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 12:12:53.624 -04:00 [DBG] Connection id "0HN3PM37E86DA" completed keep alive response.
2024-05-21 12:12:53.625 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 5.638ms
2024-05-21 12:12:53.636 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 13857.2818ms
2024-05-21 12:12:53.637 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:12:53.640 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:12:53.643 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:12:53.645 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 12:12:53.645 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 499 null application/json; charset=utf-8 13926.8751ms
2024-05-21 12:12:53.646 -04:00 [DBG] Connection id "0HN3PM37E86D9" stopped.
2024-05-21 12:13:20.394 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryyOVGA5DftRNzgtBB 11376433
2024-05-21 12:13:20.397 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 12:13:20.397 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 12:13:20.397 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:13:20.397 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 12:13:20.397 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:13:20.398 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 12:13:20.398 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.398 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 12:13:20.398 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 12:13:20.398 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 12:13:20.398 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 12:13:20.399 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 12:13:20.399 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:13:20.412 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 12:13:20.413 -04:00 [DBG] Connection id "0HN3PM37E86DA", Request id "0HN3PM37E86DA:00000003": started reading request body.
2024-05-21 12:13:20.454 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.457 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.482 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.488 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.508 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.511 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.529 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.532 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.552 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.555 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.578 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.583 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.604 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.606 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.618 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.620 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.641 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.649 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.679 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.699 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.738 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.740 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.765 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.770 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.784 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.786 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.800 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.802 -04:00 [DBG] Connection id "0HN3PM37E86DA" paused.
2024-05-21 12:13:20.818 -04:00 [DBG] Connection id "0HN3PM37E86DA" resumed.
2024-05-21 12:13:20.820 -04:00 [DBG] Connection id "0HN3PM37E86DA", Request id "0HN3PM37E86DA:00000003": done reading request body.
2024-05-21 12:13:20.848 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:13:20.849 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 12:13:20.849 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 12:13:20.849 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 12:13:20.850 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 12:13:20.850 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 12:13:20.850 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 12:13:20.850 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:13:20.850 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:13:20.851 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 12:13:20.851 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 12:13:20.851 -04:00 [INF] Received backend request to upload photo at 5/21/2024 12:13:20 PM
2024-05-21 12:13:20.851 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 12:13:20.853 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 12:13:20.853 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 12:13:20.854 -04:00 [INF] Creating new upload entity
2024-05-21 12:13:20.855 -04:00 [INF] Creating upload at 5/21/2024 12:13:20 PM
2024-05-21 12:13:20.924 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 12:13:20.925 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482646' for the property 'UploadInfo.UploadId'.
2024-05-21 12:13:20.926 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482646}'.
2024-05-21 12:13:20.926 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 12:13:20.927 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 12:13:20.927 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 12:13:20.931 -04:00 [DBG] Creating DbConnection.
2024-05-21 12:13:20.931 -04:00 [DBG] Created DbConnection. (0ms).
2024-05-21 12:13:20.931 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 12:13:20.932 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 12:13:20.936 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 12:13:20.991 -04:00 [ERR] Error at 5/21/2024 12:13:20 PM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 12:13:25.287 -04:00 [ERR] System.Exception: Error creating upload
 ---> System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
   --- End of inner exception stack trace ---
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 278
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 128
2024-05-21 12:13:27.746 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 12:13:27.747 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 12:13:27.747 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 12:13:27.747 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 12:13:27.748 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 12:13:27.748 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 12:13:27.749 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 7350.6866ms
2024-05-21 12:13:27.750 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 12:13:27.750 -04:00 [DBG] Connection id "0HN3PM37E86DA" completed keep alive response.
2024-05-21 12:13:27.754 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 12:13:27.754 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 12:13:27.754 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 12:13:27.755 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 7361.865ms
2024-05-21 12:16:36.321 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 12:16:36.574 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 12:16:37.541 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 12:16:37.804 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 12:18:30.292 -04:00 [DBG] Connection id "0HN3PM37E86DA" received FIN.
2024-05-21 12:18:30.293 -04:00 [DBG] Connection id "0HN3PM37E86DA" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 12:18:30.295 -04:00 [DBG] Connection id "0HN3PM37E86DA" disconnecting.
2024-05-21 12:18:30.298 -04:00 [DBG] Connection id "0HN3PM37E86DA" stopped.
2024-05-21 13:12:34.443 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:12:34.485 -04:00 [DBG] Hosting starting
2024-05-21 13:12:34.509 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:12:34.510 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:12:34.511 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:12:34.511 -04:00 [INF] Hosting environment: Development
2024-05-21 13:12:34.512 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:12:34.513 -04:00 [DBG] Hosting started
2024-05-21 13:12:37.367 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" accepted.
2024-05-21 13:12:37.369 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" started.
2024-05-21 13:12:37.369 -04:00 [DBG] Connection id "0HN3PN4RBF0IH" accepted.
2024-05-21 13:12:37.370 -04:00 [DBG] Connection id "0HN3PN4RBF0IH" started.
2024-05-21 13:12:37.380 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:12:37.384 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:12:37.392 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:12:37.393 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:37.427 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:37.430 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 50.6928ms
2024-05-21 13:12:37.533 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:12:37.536 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:12:37.537 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:37.568 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - PhotoUpload.Controllers.PhotoUploadController.UploadBlob (MediaService). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 13:12:37.579 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:37.580 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 47.7256ms
2024-05-21 13:12:39.962 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:12:39.966 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:12:39.968 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:39.970 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:39.972 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 10.4034ms
2024-05-21 13:12:40.027 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:12:40.029 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:12:40.030 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:40.032 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - PhotoUpload.Controllers.PhotoUploadController.UploadBlob (MediaService). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 13:12:40.034 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:40.035 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 8.3007ms
2024-05-21 13:12:49.613 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:12:49.619 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:12:49.622 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:49.626 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:49.631 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 18.3981ms
2024-05-21 13:12:49.881 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:12:49.889 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:12:49.892 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:12:49.896 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - PhotoUpload.Controllers.PhotoUploadController.UploadBlob (MediaService). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 13:12:49.903 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" completed keep alive response.
2024-05-21 13:12:49.906 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 24.356ms
2024-05-21 13:13:01.153 -04:00 [INF] Application is shutting down...
2024-05-21 13:13:01.154 -04:00 [DBG] Hosting stopping
2024-05-21 13:13:01.170 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" disconnecting.
2024-05-21 13:13:01.171 -04:00 [DBG] Connection id "0HN3PN4RBF0IH" disconnecting.
2024-05-21 13:13:01.179 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" stopped.
2024-05-21 13:13:01.180 -04:00 [DBG] Connection id "0HN3PN4RBF0IH" stopped.
2024-05-21 13:13:01.189 -04:00 [DBG] Connection id "0HN3PN4RBF0IG" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:13:01.189 -04:00 [DBG] Connection id "0HN3PN4RBF0IH" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:13:01.206 -04:00 [DBG] Hosting stopped
2024-05-21 13:13:13.476 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:13:13.512 -04:00 [DBG] Hosting starting
2024-05-21 13:13:13.533 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:13:13.534 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:13:13.535 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:13:13.535 -04:00 [INF] Hosting environment: Development
2024-05-21 13:13:13.536 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:13:13.536 -04:00 [DBG] Hosting started
2024-05-21 13:13:15.174 -04:00 [DBG] Connection id "0HN3PN56K0K6D" accepted.
2024-05-21 13:13:15.175 -04:00 [DBG] Connection id "0HN3PN56K0K6D" started.
2024-05-21 13:13:15.175 -04:00 [DBG] Connection id "0HN3PN56K0K6E" accepted.
2024-05-21 13:13:15.177 -04:00 [DBG] Connection id "0HN3PN56K0K6E" started.
2024-05-21 13:13:15.187 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/ - null null
2024-05-21 13:13:15.190 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:13:15.198 -04:00 [DBG] No candidates found for the request path '/'
2024-05-21 13:13:15.199 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:13:15.207 -04:00 [DBG] The request path  does not match the path filter
2024-05-21 13:13:15.209 -04:00 [DBG] Connection id "0HN3PN56K0K6D" completed keep alive response.
2024-05-21 13:13:15.211 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/ - 404 0 null 24.6552ms
2024-05-21 13:13:15.215 -04:00 [INF] Request reached the end of the middleware pipeline without being handled by application code. Request path: GET http://localhost:5111/, Response status code: 404
2024-05-21 13:13:18.163 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:13:18.166 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:13:18.168 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:13:18.199 -04:00 [DBG] Connection id "0HN3PN56K0K6D" completed keep alive response.
2024-05-21 13:13:18.201 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 37.9302ms
2024-05-21 13:13:18.274 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:13:18.276 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:13:18.277 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:13:18.309 -04:00 [ERR] An unhandled exception has occurred while executing the request.
Swashbuckle.AspNetCore.SwaggerGen.SwaggerGeneratorException: Ambiguous HTTP method for action - PhotoUpload.Controllers.PhotoUploadController.UploadBlob (MediaService). Actions require an explicit HttpMethod binding for Swagger/OpenAPI 3.0
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GenerateOperations(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GeneratePaths(IEnumerable`1 apiDescriptions, SchemaRepository schemaRepository)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerDocumentWithoutFilters(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.SwaggerGen.SwaggerGenerator.GetSwaggerAsync(String documentName, String host, String basePath)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2024-05-21 13:13:18.319 -04:00 [DBG] Connection id "0HN3PN56K0K6D" completed keep alive response.
2024-05-21 13:13:18.320 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 500 null text/plain; charset=utf-8 45.6574ms
2024-05-21 13:14:15.295 -04:00 [DBG] Connection id "0HN3PN56K0K6E" received FIN.
2024-05-21 13:14:15.302 -04:00 [DBG] Connection id "0HN3PN56K0K6E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:14:15.304 -04:00 [DBG] Connection id "0HN3PN56K0K6E" disconnecting.
2024-05-21 13:14:15.306 -04:00 [DBG] Connection id "0HN3PN56K0K6E" stopped.
2024-05-21 13:14:38.247 -04:00 [INF] Application is shutting down...
2024-05-21 13:14:38.248 -04:00 [DBG] Hosting stopping
2024-05-21 13:14:38.255 -04:00 [DBG] Connection id "0HN3PN56K0K6D" disconnecting.
2024-05-21 13:14:38.256 -04:00 [DBG] Connection id "0HN3PN56K0K6D" stopped.
2024-05-21 13:14:38.257 -04:00 [DBG] Connection id "0HN3PN56K0K6D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:14:38.260 -04:00 [DBG] Hosting stopped
2024-05-21 13:14:41.751 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:14:41.790 -04:00 [DBG] Hosting starting
2024-05-21 13:14:41.812 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:14:41.814 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:14:41.814 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:14:41.815 -04:00 [INF] Hosting environment: Development
2024-05-21 13:14:41.815 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:14:41.816 -04:00 [DBG] Hosting started
2024-05-21 13:14:43.347 -04:00 [DBG] Connection id "0HN3PN60ST07B" accepted.
2024-05-21 13:14:43.348 -04:00 [DBG] Connection id "0HN3PN60ST07B" started.
2024-05-21 13:14:43.349 -04:00 [DBG] Connection id "0HN3PN60ST07C" accepted.
2024-05-21 13:14:43.350 -04:00 [DBG] Connection id "0HN3PN60ST07C" started.
2024-05-21 13:14:43.361 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:14:43.364 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:14:43.372 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:14:43.373 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:14:43.411 -04:00 [DBG] Connection id "0HN3PN60ST07B" completed keep alive response.
2024-05-21 13:14:43.412 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 52.3217ms
2024-05-21 13:14:43.470 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:14:43.473 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:14:43.475 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:14:43.521 -04:00 [DBG] Connection id "0HN3PN60ST07B" completed keep alive response.
2024-05-21 13:14:43.525 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.4882ms
2024-05-21 13:14:57.692 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryOExVAHszWOTHCMY9 11376433
2024-05-21 13:14:57.698 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:57.702 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:14:57.706 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:14:57.709 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:14:57.714 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:14:57.716 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:14:57.746 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:14:57.755 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:14:57.760 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:14:57.768 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:14:57.773 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:14:57.777 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:14:57.782 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:14:58.052 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:14:58.076 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:14:58.087 -04:00 [DBG] Connection id "0HN3PN60ST07B", Request id "0HN3PN60ST07B:00000003": started reading request body.
2024-05-21 13:14:58.123 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.135 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.148 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.152 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.158 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.162 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.169 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.178 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.184 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.188 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.197 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.205 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.214 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.218 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.228 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.233 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.241 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.250 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.259 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.265 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.271 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.278 -04:00 [DBG] Connection id "0HN3PN60ST07B" paused.
2024-05-21 13:14:58.283 -04:00 [DBG] Connection id "0HN3PN60ST07B" resumed.
2024-05-21 13:14:58.287 -04:00 [DBG] Connection id "0HN3PN60ST07B", Request id "0HN3PN60ST07B:00000003": done reading request body.
2024-05-21 13:14:58.309 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:14:58.314 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:14:58.321 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:14:58.329 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:14:58.335 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:14:58.340 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:14:58.343 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:14:58.346 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:14:58.349 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:14:58.352 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:14:58.356 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:14:58.359 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:14:58.362 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:14:58.365 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:14:58.367 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:14:58.378 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:14:58.389 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:14:58 PM
2024-05-21 13:14:58.459 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:15:00.592 -04:00 [ERR] System.Net.Sockets.SocketException (10061): No connection could be made because the target machine actively refused it.
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.ThrowException(SocketError error, CancellationToken cancellationToken)
   at System.Net.Sockets.Socket.AwaitableSocketAsyncEventArgs.System.Threading.Tasks.Sources.IValueTaskSource.GetResult(Int16 token)
   at System.Threading.Tasks.ValueTask.ValueTaskSourceAsTask.<>c.<.cctor>b__4_0(Object state)
--- End of stack trace from previous location ---
   at System.Net.Sockets.TcpClient.CompleteConnectAsync(Task task)
   at nClam.ClamClient.CreateConnection(TcpClient clam)
   at nClam.ClamClient.ExecuteClamCommandAsync(String command, CancellationToken cancellationToken, Func`3 additionalCommand)
   at nClam.ClamClient.SendAndScanFileAsync(Byte[] fileData, CancellationToken cancellationToken)
   at PhotoUpload.Controllers.PhotoUploadController.ScanPhotoWithClamAV(IFormFile photo) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 313
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 74
2024-05-21 13:15:00.604 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:15:00.616 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:15:00.619 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:15:00.623 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:15:00.627 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:15:00.632 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:15:00.655 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 2869.062ms
2024-05-21 13:15:00.664 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:15:00.671 -04:00 [DBG] Connection id "0HN3PN60ST07B" completed keep alive response.
2024-05-21 13:15:00.682 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 2989.4768ms
2024-05-21 13:15:45.296 -04:00 [DBG] Connection id "0HN3PN60ST07C" received FIN.
2024-05-21 13:15:45.303 -04:00 [DBG] Connection id "0HN3PN60ST07C" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:15:45.310 -04:00 [DBG] Connection id "0HN3PN60ST07C" disconnecting.
2024-05-21 13:15:45.315 -04:00 [DBG] Connection id "0HN3PN60ST07C" stopped.
2024-05-21 13:17:11.876 -04:00 [DBG] Connection id "0HN3PN60ST07B" disconnecting.
2024-05-21 13:17:11.879 -04:00 [DBG] Connection id "0HN3PN60ST07B" stopped.
2024-05-21 13:17:11.882 -04:00 [DBG] Connection id "0HN3PN60ST07B" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:17:34.224 -04:00 [DBG] Connection id "0HN3PN60ST07D" accepted.
2024-05-21 13:17:34.228 -04:00 [DBG] Connection id "0HN3PN60ST07D" started.
2024-05-21 13:17:34.228 -04:00 [DBG] Connection id "0HN3PN60ST07E" accepted.
2024-05-21 13:17:34.232 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:17:34.234 -04:00 [DBG] Connection id "0HN3PN60ST07E" started.
2024-05-21 13:17:34.238 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:17:34.245 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:17:34.248 -04:00 [DBG] Connection id "0HN3PN60ST07D" completed keep alive response.
2024-05-21 13:17:34.250 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 18.2143ms
2024-05-21 13:17:34.298 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:17:34.303 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:17:34.306 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:17:34.321 -04:00 [DBG] Connection id "0HN3PN60ST07D" completed keep alive response.
2024-05-21 13:17:34.326 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 28.4036ms
2024-05-21 13:17:44.870 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundary3Lo2pAiAdpWKwipl 11376433
2024-05-21 13:17:44.874 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:44.875 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:17:44.877 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:17:44.880 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:17:44.883 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:17:44.884 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:17:44.887 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:17:44.892 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:17:44.896 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:17:44.900 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:17:44.907 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:17:44.912 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:17:44.916 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:17:44.937 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:17:44.947 -04:00 [DBG] Connection id "0HN3PN60ST07D", Request id "0HN3PN60ST07D:00000003": started reading request body.
2024-05-21 13:17:44.968 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:44.978 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:44.992 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.000 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.016 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.025 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.041 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.046 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.057 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.064 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.077 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.085 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.093 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.095 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.162 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.164 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.169 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.182 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.190 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.193 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.197 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.202 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.207 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.211 -04:00 [DBG] Connection id "0HN3PN60ST07D" paused.
2024-05-21 13:17:45.216 -04:00 [DBG] Connection id "0HN3PN60ST07D" resumed.
2024-05-21 13:17:45.218 -04:00 [DBG] Connection id "0HN3PN60ST07D", Request id "0HN3PN60ST07D:00000003": done reading request body.
2024-05-21 13:17:45.228 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:17:45.231 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:17:45.233 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:17:45.235 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:17:45.237 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:17:45.240 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:17:45.242 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:17:45.245 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:17:45.247 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:17:45.250 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:17:45.252 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:17:45.254 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:17:45.257 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:17:45.259 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:17:45.261 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:17:45.264 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:17:45.266 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:17:45 PM
2024-05-21 13:17:45.322 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:17:56.096 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:17:56.099 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:18:14.968 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:18:14.984 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:18:14.985 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:18:14.991 -04:00 [INF] Creating new upload entity
2024-05-21 13:18:14.993 -04:00 [INF] Creating upload at 5/21/2024 1:18:14 PM
2024-05-21 13:18:14.998 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:18:15.123 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:18:15.188 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:18:15.207 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:18:15.253 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:18:15.256 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:18:15.260 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:18:15.266 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:18:15.297 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:18:15.310 -04:00 [DBG] Created DbConnection. (11ms).
2024-05-21 13:18:15.312 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:18:15.653 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:18:15.659 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:18:15.664 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 13:18:15.669 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (10ms).
2024-05-21 13:18:15.674 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='4ea4d6fd-1c32-46f0-96d6-82bfde8e38be.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:17:45.2662173-04:00', @p3='q' (Nullable = false) (Size = 4000), @p4='q' (Nullable = false) (Size = 4000), @p5='q' (Nullable = false) (Size = 4000), @p6='q' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:18:15.769 -04:00 [INF] Executed DbCommand (97ms) [Parameters=[@p0='4ea4d6fd-1c32-46f0-96d6-82bfde8e38be.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:17:45.2662173-04:00', @p3='q' (Nullable = false) (Size = 4000), @p4='q' (Nullable = false) (Size = 4000), @p5='q' (Nullable = false) (Size = 4000), @p6='q' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:18:15.783 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '6' for entity with key '{UploadId: 6}'.
2024-05-21 13:18:15.789 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:18:15.794 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 16ms reading results.
2024-05-21 13:18:15.797 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:18:15.800 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (2ms).
2024-05-21 13:18:15.806 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 6}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:18:15.810 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:18:15.814 -04:00 [ERR] AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadInfo -> UploadForCreationDTO
ImageUpload.Entities.UploadInfo -> ImageUpload.Models.UploadForCreationDTO
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 296
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 135
2024-05-21 13:18:15.815 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:18:15.816 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:18:15.817 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:18:15.817 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:18:15.818 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:18:15.819 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:18:15.820 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 30903.7394ms
2024-05-21 13:18:15.821 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:18:15.822 -04:00 [DBG] Connection id "0HN3PN60ST07D" completed keep alive response.
2024-05-21 13:18:15.824 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:18:15.828 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:18:15.829 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 13:18:15.830 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 30959.961ms
2024-05-21 13:18:36.293 -04:00 [DBG] Connection id "0HN3PN60ST07E" received FIN.
2024-05-21 13:18:36.297 -04:00 [DBG] Connection id "0HN3PN60ST07E" disconnecting.
2024-05-21 13:18:36.299 -04:00 [DBG] Connection id "0HN3PN60ST07E" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:18:36.303 -04:00 [DBG] Connection id "0HN3PN60ST07E" stopped.
2024-05-21 13:19:11.168 -04:00 [INF] Application is shutting down...
2024-05-21 13:19:11.169 -04:00 [DBG] Hosting stopping
2024-05-21 13:19:11.175 -04:00 [DBG] Connection id "0HN3PN60ST07D" disconnecting.
2024-05-21 13:19:11.176 -04:00 [DBG] Connection id "0HN3PN60ST07D" stopped.
2024-05-21 13:19:11.178 -04:00 [DBG] Connection id "0HN3PN60ST07D" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:19:11.180 -04:00 [DBG] Hosting stopped
2024-05-21 13:19:13.954 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:19:13.991 -04:00 [DBG] Hosting starting
2024-05-21 13:19:14.012 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:19:14.013 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:19:14.013 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:19:14.014 -04:00 [INF] Hosting environment: Development
2024-05-21 13:19:14.014 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:19:14.015 -04:00 [DBG] Hosting started
2024-05-21 13:19:16.053 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" accepted.
2024-05-21 13:19:16.054 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" started.
2024-05-21 13:19:16.054 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" accepted.
2024-05-21 13:19:16.057 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" started.
2024-05-21 13:19:16.066 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:19:16.069 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:19:16.078 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:19:16.079 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:19:16.112 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" completed keep alive response.
2024-05-21 13:19:16.115 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 49.3189ms
2024-05-21 13:19:16.180 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:19:16.183 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:19:16.184 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:19:16.230 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" completed keep alive response.
2024-05-21 13:19:16.232 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.628ms
2024-05-21 13:19:26.013 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryBmW5mZ88H2GVKyqB 11376433
2024-05-21 13:19:26.021 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.024 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:19:26.030 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:19:26.035 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:19:26.042 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:19:26.046 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:19:26.090 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:19:26.106 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:19:26.113 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:19:26.121 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:19:26.129 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:19:26.135 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:19:26.145 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:19:26.416 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:19:26.441 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:19:26.457 -04:00 [DBG] Connection id "0HN3PN8I5K7R0", Request id "0HN3PN8I5K7R0:00000003": started reading request body.
2024-05-21 13:19:26.506 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.518 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.531 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.539 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.551 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.562 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.573 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.587 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.600 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.610 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.618 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.628 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.636 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.643 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.650 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.657 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.669 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.675 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.684 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.688 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" paused.
2024-05-21 13:19:26.694 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" resumed.
2024-05-21 13:19:26.697 -04:00 [DBG] Connection id "0HN3PN8I5K7R0", Request id "0HN3PN8I5K7R0:00000003": done reading request body.
2024-05-21 13:19:26.716 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:19:26.721 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:19:26.727 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:19:26.732 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:19:26.736 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:19:26.741 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:19:26.746 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:19:26.749 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:19:26.752 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:19:26.757 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:19:26.760 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:19:26.763 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:19:26.766 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:19:26.768 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:19:26.769 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:19:26.777 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:19:26.790 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:19:26 PM
2024-05-21 13:19:26.849 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:19:27.018 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:19:27.023 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:19:46.858 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:19:46.922 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:19:46.930 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:19:46.951 -04:00 [INF] Creating new upload entity
2024-05-21 13:19:46.958 -04:00 [INF] Creating upload at 5/21/2024 1:19:46 PM
2024-05-21 13:19:46.979 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:19:47.348 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:19:47.540 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:19:47.582 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:19:47.716 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:19:47.732 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:19:47.739 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:19:47.755 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:19:47.884 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:19:47.914 -04:00 [DBG] Created DbConnection. (28ms).
2024-05-21 13:19:47.921 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:19:48.379 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:19:48.407 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:19:48.444 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (30ms).
2024-05-21 13:19:48.464 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (60ms).
2024-05-21 13:19:48.478 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='163752da-eab4-47c9-b698-0a24f8b0127c.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:19:26.7821868-04:00', @p3='y' (Nullable = false) (Size = 4000), @p4='y' (Nullable = false) (Size = 4000), @p5='y' (Nullable = false) (Size = 4000), @p6='y' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:19:48.639 -04:00 [INF] Executed DbCommand (163ms) [Parameters=[@p0='163752da-eab4-47c9-b698-0a24f8b0127c.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:19:26.7821868-04:00', @p3='y' (Nullable = false) (Size = 4000), @p4='y' (Nullable = false) (Size = 4000), @p5='y' (Nullable = false) (Size = 4000), @p6='y' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:19:48.675 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '7' for entity with key '{UploadId: 7}'.
2024-05-21 13:19:48.693 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:19:48.712 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 52ms reading results.
2024-05-21 13:19:48.726 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:19:48.741 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (14ms).
2024-05-21 13:19:48.769 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 7}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:19:48.784 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:19:48.808 -04:00 [ERR] AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadInfo -> UploadForCreationDTO
ImageUpload.Entities.UploadInfo -> ImageUpload.Models.UploadForCreationDTO
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 296
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 135
2024-05-21 13:19:48.820 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:19:48.833 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:19:48.836 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:19:48.839 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:19:48.843 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:19:48.849 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:19:48.869 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 22722.1919ms
2024-05-21 13:19:48.879 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:19:48.886 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" completed keep alive response.
2024-05-21 13:19:48.895 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:19:48.902 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:19:48.908 -04:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-05-21 13:19:48.914 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 22900.2154ms
2024-05-21 13:20:18.292 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" received FIN.
2024-05-21 13:20:18.299 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:20:18.303 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" disconnecting.
2024-05-21 13:20:18.309 -04:00 [DBG] Connection id "0HN3PN8I5K7R1" stopped.
2024-05-21 13:22:00.201 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" disconnecting.
2024-05-21 13:22:00.203 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" stopped.
2024-05-21 13:22:00.205 -04:00 [DBG] Connection id "0HN3PN8I5K7R0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:23:03.023 -04:00 [INF] Application is shutting down...
2024-05-21 13:23:03.024 -04:00 [DBG] Hosting stopping
2024-05-21 13:23:03.030 -04:00 [DBG] Hosting stopped
2024-05-21 13:23:06.563 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:23:06.602 -04:00 [DBG] Hosting starting
2024-05-21 13:23:06.623 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:23:06.625 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:23:06.626 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:23:06.627 -04:00 [INF] Hosting environment: Development
2024-05-21 13:23:06.628 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:23:06.628 -04:00 [DBG] Hosting started
2024-05-21 13:23:07.458 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" accepted.
2024-05-21 13:23:07.459 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" started.
2024-05-21 13:23:07.460 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" accepted.
2024-05-21 13:23:07.461 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" started.
2024-05-21 13:23:07.471 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:23:07.478 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:23:07.488 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:23:07.492 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:23:07.529 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" completed keep alive response.
2024-05-21 13:23:07.531 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 60.1054ms
2024-05-21 13:23:07.598 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:23:07.601 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:23:07.602 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:23:07.649 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" completed keep alive response.
2024-05-21 13:23:07.651 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.7911ms
2024-05-21 13:23:16.604 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryMGgo70qhQzWNsdti 11376433
2024-05-21 13:23:16.610 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:16.616 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:23:16.623 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:23:16.629 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:23:16.636 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:23:16.642 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:23:16.689 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:23:16.703 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:23:16.711 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:23:16.719 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:23:16.729 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:23:16.734 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:23:16.741 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:23:16.945 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:23:16.969 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:23:16.986 -04:00 [DBG] Connection id "0HN3PNAN4FAL6", Request id "0HN3PNAN4FAL6:00000003": started reading request body.
2024-05-21 13:23:17.031 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.044 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.057 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.068 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.078 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.089 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.103 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.111 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.122 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.135 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.143 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.147 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.156 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.169 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.181 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.188 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.199 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.210 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.220 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.228 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" paused.
2024-05-21 13:23:17.243 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" resumed.
2024-05-21 13:23:17.245 -04:00 [DBG] Connection id "0HN3PNAN4FAL6", Request id "0HN3PNAN4FAL6:00000003": done reading request body.
2024-05-21 13:23:17.258 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:23:17.263 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:23:17.270 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:23:17.278 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:23:17.284 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:23:17.289 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:23:17.297 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:23:17.304 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:23:17.310 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:23:17.316 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:23:17.323 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:23:17.330 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:23:17.336 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:23:17.343 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:23:17.347 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:23:17.363 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:23:17.384 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:23:17 PM
2024-05-21 13:23:17.467 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:23:17.632 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:23:17.637 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:23:36.506 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:23:36.564 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:23:36.568 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:23:36.597 -04:00 [ERR] AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadForCreationDTO -> UploadInfo
ImageUpload.Models.UploadForCreationDTO -> ImageUpload.Entities.UploadInfo
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 296
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 135
2024-05-21 13:23:36.609 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:23:36.621 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:23:36.625 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:23:36.629 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:23:36.634 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:23:36.638 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:23:36.664 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 19919.203ms
2024-05-21 13:23:36.671 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:23:36.680 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" completed keep alive response.
2024-05-21 13:23:36.689 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 20085.5935ms
2024-05-21 13:24:09.285 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" received FIN.
2024-05-21 13:24:09.291 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:24:09.296 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" disconnecting.
2024-05-21 13:24:09.302 -04:00 [DBG] Connection id "0HN3PNAN4FAL7" stopped.
2024-05-21 13:25:47.687 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" disconnecting.
2024-05-21 13:25:47.689 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" stopped.
2024-05-21 13:25:47.690 -04:00 [DBG] Connection id "0HN3PNAN4FAL6" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:26:02.294 -04:00 [INF] Application is shutting down...
2024-05-21 13:26:02.295 -04:00 [DBG] Hosting stopping
2024-05-21 13:26:02.302 -04:00 [DBG] Hosting stopped
2024-05-21 13:26:05.184 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:26:05.224 -04:00 [DBG] Hosting starting
2024-05-21 13:26:05.244 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:26:05.245 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:26:05.246 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:26:05.247 -04:00 [INF] Hosting environment: Development
2024-05-21 13:26:05.248 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:26:05.248 -04:00 [DBG] Hosting started
2024-05-21 13:26:06.997 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" accepted.
2024-05-21 13:26:06.999 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" started.
2024-05-21 13:26:06.999 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" accepted.
2024-05-21 13:26:07.001 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" started.
2024-05-21 13:26:07.012 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:26:07.015 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:26:07.025 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:26:07.026 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:26:07.060 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" completed keep alive response.
2024-05-21 13:26:07.063 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 52.3137ms
2024-05-21 13:26:07.136 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:26:07.140 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:26:07.141 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:26:07.186 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" completed keep alive response.
2024-05-21 13:26:07.190 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.5956ms
2024-05-21 13:26:17.941 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundarygGmrYI5ldQ6A2jW9 11376433
2024-05-21 13:26:17.947 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:17.951 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:26:17.957 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:26:17.964 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:26:17.974 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:26:17.980 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:26:18.024 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:26:18.034 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:26:18.038 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:26:18.048 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:26:18.055 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:26:18.062 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:26:18.069 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:26:18.281 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:26:18.303 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:26:18.315 -04:00 [DBG] Connection id "0HN3PNCCKMFOC", Request id "0HN3PNCCKMFOC:00000003": started reading request body.
2024-05-21 13:26:18.347 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.360 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.370 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.377 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.383 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.390 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.400 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.405 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.414 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.425 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.435 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.441 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.451 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.459 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.465 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.473 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.486 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.490 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.496 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.499 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" paused.
2024-05-21 13:26:18.506 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" resumed.
2024-05-21 13:26:18.510 -04:00 [DBG] Connection id "0HN3PNCCKMFOC", Request id "0HN3PNCCKMFOC:00000003": done reading request body.
2024-05-21 13:26:18.527 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:26:18.533 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:26:18.540 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:26:18.544 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:26:18.549 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:26:18.552 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:26:18.555 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:26:18.559 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:26:18.563 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:26:18.566 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:26:18.569 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:26:18.575 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:26:18.580 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:26:18.582 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:26:18.584 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:26:18.596 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:26:18.618 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:26:18 PM
2024-05-21 13:26:18.668 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:26:18.833 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:26:18.836 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:26:39.117 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:26:39.172 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:26:39.180 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:26:39.209 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:26:39.219 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:26:39.222 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:26:39.225 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:26:39.227 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-05-21 13:26:39.230 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-21 13:26:39.240 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 21168.0817ms
2024-05-21 13:26:39.243 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:26:39.245 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" completed keep alive response.
2024-05-21 13:26:39.253 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null text/plain; charset=utf-8 21311.4954ms
2024-05-21 13:27:09.289 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" received FIN.
2024-05-21 13:27:09.296 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:27:09.301 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" disconnecting.
2024-05-21 13:27:09.305 -04:00 [DBG] Connection id "0HN3PNCCKMFOD" stopped.
2024-05-21 13:27:33.285 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:27:33.286 -04:00 [DBG] Connection id "0HN3PNCCKMFOE" accepted.
2024-05-21 13:27:33.292 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:27:33.296 -04:00 [DBG] Connection id "0HN3PNCCKMFOE" started.
2024-05-21 13:27:33.298 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:27:33.304 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" completed keep alive response.
2024-05-21 13:27:33.307 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 21.6822ms
2024-05-21 13:27:33.355 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:27:33.362 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:27:33.365 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:27:33.378 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" completed keep alive response.
2024-05-21 13:27:33.384 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 29.4482ms
2024-05-21 13:27:52.069 -04:00 [INF] Application is shutting down...
2024-05-21 13:27:52.069 -04:00 [DBG] Hosting stopping
2024-05-21 13:27:52.075 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" disconnecting.
2024-05-21 13:27:52.075 -04:00 [DBG] Connection id "0HN3PNCCKMFOE" disconnecting.
2024-05-21 13:27:52.076 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" stopped.
2024-05-21 13:27:52.077 -04:00 [DBG] Connection id "0HN3PNCCKMFOE" stopped.
2024-05-21 13:27:52.078 -04:00 [DBG] Connection id "0HN3PNCCKMFOC" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:27:52.078 -04:00 [DBG] Connection id "0HN3PNCCKMFOE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:27:52.081 -04:00 [DBG] Hosting stopped
2024-05-21 13:28:03.354 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:28:03.395 -04:00 [DBG] Hosting starting
2024-05-21 13:28:03.416 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:28:03.417 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:28:03.417 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:28:03.418 -04:00 [INF] Hosting environment: Development
2024-05-21 13:28:03.419 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:28:03.419 -04:00 [DBG] Hosting started
2024-05-21 13:28:05.681 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" accepted.
2024-05-21 13:28:05.683 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" started.
2024-05-21 13:28:05.683 -04:00 [DBG] Connection id "0HN3PNDG0I13R" accepted.
2024-05-21 13:28:05.684 -04:00 [DBG] Connection id "0HN3PNDG0I13R" started.
2024-05-21 13:28:05.695 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:28:05.698 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:28:05.706 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:28:05.708 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:28:05.742 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" completed keep alive response.
2024-05-21 13:28:05.745 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 50.4847ms
2024-05-21 13:28:05.812 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:28:05.815 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:28:05.816 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:28:05.863 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" completed keep alive response.
2024-05-21 13:28:05.866 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.8353ms
2024-05-21 13:28:16.301 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryyNAxzdbOeROrDrW0 11376433
2024-05-21 13:28:16.307 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.314 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:28:16.321 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:28:16.327 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:28:16.336 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:28:16.341 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:28:16.382 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:28:16.390 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:28:16.392 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:28:16.397 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:28:16.401 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:28:16.404 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:28:16.409 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:28:16.688 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:28:16.713 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:28:16.729 -04:00 [DBG] Connection id "0HN3PNDG0I13Q", Request id "0HN3PNDG0I13Q:00000003": started reading request body.
2024-05-21 13:28:16.765 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.777 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.788 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.798 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.810 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.823 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.837 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.846 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.858 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.866 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.875 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.878 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.884 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.888 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.897 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.909 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.919 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.929 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.946 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.958 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.968 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.976 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" paused.
2024-05-21 13:28:16.988 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" resumed.
2024-05-21 13:28:16.992 -04:00 [DBG] Connection id "0HN3PNDG0I13Q", Request id "0HN3PNDG0I13Q:00000003": done reading request body.
2024-05-21 13:28:17.017 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:28:17.024 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:28:17.031 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:28:17.036 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:28:17.043 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:28:17.047 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:28:17.051 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:28:17.055 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:28:17.061 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:28:17.069 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:28:17.075 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:28:17.083 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:28:17.090 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:28:17.096 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:28:17.101 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:28:17.120 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:28:17.134 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:28:17 PM
2024-05-21 13:28:17.177 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:28:17.344 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:28:17.346 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:28:36.945 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:28:37.005 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:28:37.012 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:28:37.032 -04:00 [INF] Creating new upload entity
2024-05-21 13:28:37.038 -04:00 [INF] Creating upload at 5/21/2024 1:28:37 PM
2024-05-21 13:28:37.063 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:28:37.428 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:28:37.609 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:28:37.658 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:28:37.765 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:28:37.780 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:28:37.786 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:28:37.810 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:28:37.974 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:28:38.001 -04:00 [DBG] Created DbConnection. (23ms).
2024-05-21 13:28:38.006 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:28:38.433 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:28:38.451 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:28:38.473 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-05-21 13:28:38.503 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (51ms).
2024-05-21 13:28:38.524 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='6a73c213-47ea-4c74-bf54-a64214e1e521.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:28:17.1262548-04:00', @p3='a' (Nullable = false) (Size = 4000), @p4='a' (Nullable = false) (Size = 4000), @p5='a' (Nullable = false) (Size = 4000), @p6='a' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:28:38.725 -04:00 [INF] Executed DbCommand (206ms) [Parameters=[@p0='6a73c213-47ea-4c74-bf54-a64214e1e521.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:28:17.1262548-04:00', @p3='a' (Nullable = false) (Size = 4000), @p4='a' (Nullable = false) (Size = 4000), @p5='a' (Nullable = false) (Size = 4000), @p6='a' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:28:38.776 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '8' for entity with key '{UploadId: 8}'.
2024-05-21 13:28:38.805 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:28:38.827 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 77ms reading results.
2024-05-21 13:28:38.842 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:28:38.859 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (16ms).
2024-05-21 13:28:38.886 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 8}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:28:38.901 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:28:38.922 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:28:38.937 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:28:38.940 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:28:38.943 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:28:38.948 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter' and content type 'text/plain' to write the response.
2024-05-21 13:28:38.952 -04:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-05-21 13:28:38.965 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 22551.2762ms
2024-05-21 13:28:38.970 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:28:38.977 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" completed keep alive response.
2024-05-21 13:28:38.986 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:28:38.998 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:28:39.007 -04:00 [DBG] Disposed connection to database '' on server '' (8ms).
2024-05-21 13:28:39.013 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null text/plain; charset=utf-8 22711.2234ms
2024-05-21 13:29:06.298 -04:00 [DBG] Connection id "0HN3PNDG0I13R" received FIN.
2024-05-21 13:29:06.302 -04:00 [DBG] Connection id "0HN3PNDG0I13R" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:29:06.305 -04:00 [DBG] Connection id "0HN3PNDG0I13R" disconnecting.
2024-05-21 13:29:06.308 -04:00 [DBG] Connection id "0HN3PNDG0I13R" stopped.
2024-05-21 13:29:40.570 -04:00 [INF] Application is shutting down...
2024-05-21 13:29:40.571 -04:00 [DBG] Hosting stopping
2024-05-21 13:29:40.578 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" disconnecting.
2024-05-21 13:29:40.579 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" stopped.
2024-05-21 13:29:40.581 -04:00 [DBG] Connection id "0HN3PNDG0I13Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:29:40.586 -04:00 [DBG] Hosting stopped
2024-05-21 13:29:43.369 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:29:43.409 -04:00 [DBG] Hosting starting
2024-05-21 13:29:43.430 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:29:43.432 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:29:43.433 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:29:43.434 -04:00 [INF] Hosting environment: Development
2024-05-21 13:29:43.434 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:29:43.435 -04:00 [DBG] Hosting started
2024-05-21 13:29:44.969 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" accepted.
2024-05-21 13:29:44.972 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" started.
2024-05-21 13:29:44.972 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" accepted.
2024-05-21 13:29:44.975 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" started.
2024-05-21 13:29:44.984 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:29:44.987 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:29:44.995 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:29:44.996 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:29:45.029 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" completed keep alive response.
2024-05-21 13:29:45.032 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 49.1687ms
2024-05-21 13:29:45.076 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:29:45.079 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:29:45.080 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:29:45.125 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" completed keep alive response.
2024-05-21 13:29:45.127 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.0121ms
2024-05-21 13:29:55.925 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryTJAEJlej2e3OiieM 11376433
2024-05-21 13:29:55.933 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:55.936 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:29:55.943 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:29:55.948 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:29:55.954 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:29:55.958 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:29:56.001 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:29:56.016 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:29:56.021 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:29:56.029 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:29:56.035 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:29:56.043 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:29:56.051 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:29:56.309 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:29:56.331 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:29:56.345 -04:00 [DBG] Connection id "0HN3PNEDJEB9J", Request id "0HN3PNEDJEB9J:00000003": started reading request body.
2024-05-21 13:29:56.379 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.391 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.408 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.418 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.434 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.448 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.461 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.471 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.485 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.498 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.510 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.518 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.528 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.538 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.547 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.552 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.564 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.569 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.577 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.581 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" paused.
2024-05-21 13:29:56.586 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" resumed.
2024-05-21 13:29:56.589 -04:00 [DBG] Connection id "0HN3PNEDJEB9J", Request id "0HN3PNEDJEB9J:00000003": done reading request body.
2024-05-21 13:29:56.608 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:29:56.617 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:29:56.629 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:29:56.637 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:29:56.646 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:29:56.652 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:29:56.657 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:29:56.664 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:29:56.669 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:29:56.675 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:29:56.681 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:29:56.687 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:29:56.693 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:29:56.697 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:29:56.701 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:29:56.717 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:29:56.741 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:29:56 PM
2024-05-21 13:29:56.807 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:29:56.984 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:29:56.987 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:30:16.392 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:30:16.450 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:30:16.454 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:30:16.468 -04:00 [INF] Creating new upload entity
2024-05-21 13:30:16.474 -04:00 [INF] Creating upload at 5/21/2024 1:30:16 PM
2024-05-21 13:30:16.490 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:30:16.864 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:30:17.055 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:30:17.097 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:30:17.236 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:30:17.251 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:30:17.260 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:30:17.282 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:30:17.388 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:30:17.430 -04:00 [DBG] Created DbConnection. (37ms).
2024-05-21 13:30:17.440 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:30:17.944 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:30:17.960 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:30:17.985 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (18ms).
2024-05-21 13:30:18.013 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (52ms).
2024-05-21 13:30:18.034 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='66394d2f-3be9-4346-8726-44252e9242f8.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:29:56.7312577-04:00', @p3='b' (Nullable = false) (Size = 4000), @p4='b' (Nullable = false) (Size = 4000), @p5='b' (Nullable = false) (Size = 4000), @p6='b' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:30:18.168 -04:00 [INF] Executed DbCommand (138ms) [Parameters=[@p0='66394d2f-3be9-4346-8726-44252e9242f8.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:29:56.7312577-04:00', @p3='b' (Nullable = false) (Size = 4000), @p4='b' (Nullable = false) (Size = 4000), @p5='b' (Nullable = false) (Size = 4000), @p6='b' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:30:18.213 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '9' for entity with key '{UploadId: 9}'.
2024-05-21 13:30:18.237 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:30:18.261 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 70ms reading results.
2024-05-21 13:30:18.277 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:30:18.292 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (15ms).
2024-05-21 13:30:18.316 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 9}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:30:18.333 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:30:18.360 -04:00 [ERR] AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadInfo -> UploadForCreationDTO
ImageUpload.Entities.UploadInfo -> ImageUpload.Models.UploadForCreationDTO
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 296
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 135
2024-05-21 13:30:18.373 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:30:18.388 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:30:18.392 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:30:18.395 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:30:18.399 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:30:18.405 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:30:18.428 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 22374.1897ms
2024-05-21 13:30:18.436 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:30:18.444 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" completed keep alive response.
2024-05-21 13:30:18.455 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:30:18.467 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:30:18.477 -04:00 [DBG] Disposed connection to database '' on server '' (9ms).
2024-05-21 13:30:18.482 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 22557.9999ms
2024-05-21 13:30:45.289 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" received FIN.
2024-05-21 13:30:45.294 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:30:45.296 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" disconnecting.
2024-05-21 13:30:45.298 -04:00 [DBG] Connection id "0HN3PNEDJEB9K" stopped.
2024-05-21 13:32:28.705 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" disconnecting.
2024-05-21 13:32:28.705 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" stopped.
2024-05-21 13:32:28.706 -04:00 [DBG] Connection id "0HN3PNEDJEB9J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:33:26.260 -04:00 [INF] Application is shutting down...
2024-05-21 13:33:26.261 -04:00 [DBG] Hosting stopping
2024-05-21 13:33:26.267 -04:00 [DBG] Hosting stopped
2024-05-21 13:33:29.232 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:33:29.274 -04:00 [DBG] Hosting starting
2024-05-21 13:33:29.295 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:33:29.298 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:33:29.298 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:33:29.299 -04:00 [INF] Hosting environment: Development
2024-05-21 13:33:29.300 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:33:29.300 -04:00 [DBG] Hosting started
2024-05-21 13:33:29.372 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" accepted.
2024-05-21 13:33:29.374 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" started.
2024-05-21 13:33:29.385 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:33:29.390 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:33:29.398 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:33:29.399 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:33:29.415 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" accepted.
2024-05-21 13:33:29.417 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" started.
2024-05-21 13:33:29.417 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" accepted.
2024-05-21 13:33:29.419 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" started.
2024-05-21 13:33:29.434 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" completed keep alive response.
2024-05-21 13:33:29.436 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 51.2747ms
2024-05-21 13:33:29.506 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:33:29.509 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:33:29.510 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:33:29.557 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" completed keep alive response.
2024-05-21 13:33:29.559 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 53.0829ms
2024-05-21 13:33:43.093 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryYbGdHAYDeE8zLtA4 11376433
2024-05-21 13:33:43.099 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.104 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:33:43.111 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:33:43.117 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:33:43.127 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:33:43.133 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:33:43.185 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:33:43.200 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:33:43.209 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:33:43.216 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:33:43.224 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:33:43.231 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:33:43.240 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:33:43.531 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:33:43.551 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:33:43.561 -04:00 [DBG] Connection id "0HN3PNGGFGM8J", Request id "0HN3PNGGFGM8J:00000003": started reading request body.
2024-05-21 13:33:43.585 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.595 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.609 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.617 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.627 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.633 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.642 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.648 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.655 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.665 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.672 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.677 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.683 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.693 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.700 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.708 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.716 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.724 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.748 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.755 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" paused.
2024-05-21 13:33:43.764 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" resumed.
2024-05-21 13:33:43.771 -04:00 [DBG] Connection id "0HN3PNGGFGM8J", Request id "0HN3PNGGFGM8J:00000003": done reading request body.
2024-05-21 13:33:43.787 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:33:43.793 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:33:43.799 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:33:43.803 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:33:43.808 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:33:43.812 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:33:43.815 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:33:43.817 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:33:43.820 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:33:43.822 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:33:43.825 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:33:43.828 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:33:43.831 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:33:43.833 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:33:43.835 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:33:43.849 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:33:43.870 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:33:43 PM
2024-05-21 13:33:43.931 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:33:44.095 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:33:44.099 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:34:03.983 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:34:04.036 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:34:04.043 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:34:04.063 -04:00 [INF] Creating new upload entity
2024-05-21 13:34:04.070 -04:00 [INF] Creating upload at 5/21/2024 1:34:04 PM
2024-05-21 13:34:04.095 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:34:04.474 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:34:04.672 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:34:04.720 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:34:04.855 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:34:04.871 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:34:04.879 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:34:04.907 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:34:05.013 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:34:05.059 -04:00 [DBG] Created DbConnection. (41ms).
2024-05-21 13:34:05.070 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:34:05.551 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:34:05.569 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:34:05.591 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (15ms).
2024-05-21 13:34:05.617 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (47ms).
2024-05-21 13:34:05.644 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='2a72407d-4830-4b2c-918d-5c646c99bceb.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:33:43.8583948-04:00', @p3='k' (Nullable = false) (Size = 4000), @p4='k' (Nullable = false) (Size = 4000), @p5='k' (Nullable = false) (Size = 4000), @p6='k' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:34:05.778 -04:00 [INF] Executed DbCommand (144ms) [Parameters=[@p0='2a72407d-4830-4b2c-918d-5c646c99bceb.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:33:43.8583948-04:00', @p3='k' (Nullable = false) (Size = 4000), @p4='k' (Nullable = false) (Size = 4000), @p5='k' (Nullable = false) (Size = 4000), @p6='k' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:34:05.829 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '10' for entity with key '{UploadId: 10}'.
2024-05-21 13:34:05.856 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:34:05.878 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 74ms reading results.
2024-05-21 13:34:05.894 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:34:05.909 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (14ms).
2024-05-21 13:34:05.935 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 10}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:34:05.949 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:34:05.976 -04:00 [ERR] System.Exception: Error uploading to Azure Blob Storage
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadInfo -> UploadForCreationDTO
ImageUpload.Entities.UploadInfo -> ImageUpload.Models.UploadForCreationDTO
   at lambda_method100(Closure, Object, UploadForCreationDTO, ResolutionContext)
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 286
   --- End of inner exception stack trace ---
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 296
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 135
2024-05-21 13:34:05.993 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:34:06.007 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:34:06.011 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:34:06.015 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:34:06.019 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:34:06.026 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:34:06.050 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 22806.3363ms
2024-05-21 13:34:06.058 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:34:06.066 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" completed keep alive response.
2024-05-21 13:34:06.079 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:34:06.091 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:34:06.098 -04:00 [DBG] Disposed connection to database '' on server '' (6ms).
2024-05-21 13:34:06.104 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 23010.9065ms
2024-05-21 13:34:30.289 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" received FIN.
2024-05-21 13:34:30.289 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" received FIN.
2024-05-21 13:34:30.294 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:34:30.296 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" disconnecting.
2024-05-21 13:34:30.300 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" disconnecting.
2024-05-21 13:34:30.303 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:34:30.309 -04:00 [DBG] Connection id "0HN3PNGGFGM8L" stopped.
2024-05-21 13:34:30.318 -04:00 [DBG] Connection id "0HN3PNGGFGM8K" stopped.
2024-05-21 13:36:16.537 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" disconnecting.
2024-05-21 13:36:16.539 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" stopped.
2024-05-21 13:36:16.540 -04:00 [DBG] Connection id "0HN3PNGGFGM8J" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:36:45.794 -04:00 [INF] Application is shutting down...
2024-05-21 13:36:45.795 -04:00 [DBG] Hosting stopping
2024-05-21 13:36:45.803 -04:00 [DBG] Hosting stopped
2024-05-21 13:37:08.592 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:37:08.631 -04:00 [DBG] Hosting starting
2024-05-21 13:37:08.651 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:37:08.654 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:37:08.655 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:37:08.656 -04:00 [INF] Hosting environment: Development
2024-05-21 13:37:08.657 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:37:08.657 -04:00 [DBG] Hosting started
2024-05-21 13:37:10.502 -04:00 [DBG] Connection id "0HN3PNIICBVQP" accepted.
2024-05-21 13:37:10.504 -04:00 [DBG] Connection id "0HN3PNIICBVQP" started.
2024-05-21 13:37:10.504 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" accepted.
2024-05-21 13:37:10.507 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" started.
2024-05-21 13:37:10.517 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:37:10.522 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:37:10.530 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:37:10.531 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:37:10.564 -04:00 [DBG] Connection id "0HN3PNIICBVQP" completed keep alive response.
2024-05-21 13:37:10.567 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 50.7529ms
2024-05-21 13:37:10.614 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:37:10.616 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:37:10.617 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:37:10.663 -04:00 [DBG] Connection id "0HN3PNIICBVQP" completed keep alive response.
2024-05-21 13:37:10.665 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.6195ms
2024-05-21 13:37:20.633 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundarySnAYZFdbUifu5tfD 4292883
2024-05-21 13:37:20.645 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:37:20.645 -04:00 [DBG] Connection id "0HN3PNIICBVQP" paused.
2024-05-21 13:37:20.650 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:37:20.655 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:37:20.662 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:37:20.666 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:37:20.715 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:37:20.730 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:37:20.736 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:37:20.745 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:37:20.751 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:37:20.758 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:37:20.765 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:37:21.032 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:37:21.055 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:37:21.068 -04:00 [DBG] Connection id "0HN3PNIICBVQP", Request id "0HN3PNIICBVQP:00000003": started reading request body.
2024-05-21 13:37:21.102 -04:00 [DBG] Connection id "0HN3PNIICBVQP" resumed.
2024-05-21 13:37:21.112 -04:00 [DBG] Connection id "0HN3PNIICBVQP" paused.
2024-05-21 13:37:21.120 -04:00 [DBG] Connection id "0HN3PNIICBVQP" resumed.
2024-05-21 13:37:21.127 -04:00 [DBG] Connection id "0HN3PNIICBVQP" paused.
2024-05-21 13:37:21.137 -04:00 [DBG] Connection id "0HN3PNIICBVQP" resumed.
2024-05-21 13:37:21.146 -04:00 [DBG] Connection id "0HN3PNIICBVQP" paused.
2024-05-21 13:37:21.156 -04:00 [DBG] Connection id "0HN3PNIICBVQP" resumed.
2024-05-21 13:37:21.162 -04:00 [DBG] Connection id "0HN3PNIICBVQP", Request id "0HN3PNIICBVQP:00000003": done reading request body.
2024-05-21 13:37:21.187 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:37:21.199 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:37:21.210 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:37:21.219 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:37:21.229 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:37:21.238 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:37:21.241 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:37:21.244 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:37:21.247 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:37:21.252 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:37:21.256 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:37:21.258 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:37:21.262 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:37:21.265 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:37:21.268 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:37:21.279 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:37:21.292 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:37:21 PM
2024-05-21 13:37:21.316 -04:00 [INF] ClamAV received request to scan windowtothewall.jpg
2024-05-21 13:37:30.449 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:37:30.453 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:37:47.064 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:37:47.121 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:37:47.126 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:37:47.143 -04:00 [INF] Creating new upload entity
2024-05-21 13:37:47.149 -04:00 [INF] Creating upload at 5/21/2024 1:37:47 PM
2024-05-21 13:37:47.171 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:37:47.544 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:37:47.718 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:37:47.761 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:37:47.886 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:37:47.903 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:37:47.913 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:37:47.939 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:37:48.049 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:37:48.091 -04:00 [DBG] Created DbConnection. (36ms).
2024-05-21 13:37:48.103 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:37:48.607 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:37:48.623 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:37:48.637 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (10ms).
2024-05-21 13:37:48.665 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2024-05-21 13:37:48.692 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='799c3dd1-d50e-47e0-b3ec-dd3198d438ad.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:37:21.2854233-04:00', @p3='v' (Nullable = false) (Size = 4000), @p4='v' (Nullable = false) (Size = 4000), @p5='v' (Nullable = false) (Size = 4000), @p6='v' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:37:48.868 -04:00 [INF] Executed DbCommand (182ms) [Parameters=[@p0='799c3dd1-d50e-47e0-b3ec-dd3198d438ad.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:37:21.2854233-04:00', @p3='v' (Nullable = false) (Size = 4000), @p4='v' (Nullable = false) (Size = 4000), @p5='v' (Nullable = false) (Size = 4000), @p6='v' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:37:48.929 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '11' for entity with key '{UploadId: 11}'.
2024-05-21 13:37:48.961 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:37:48.983 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 87ms reading results.
2024-05-21 13:37:49.002 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:37:49.019 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (16ms).
2024-05-21 13:37:49.101 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 11}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:37:49.130 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:37:49.151 -04:00 [ERR] System.Exception: Error uploading to Azure Blob Storage
 ---> AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
UploadInfo -> UploadForCreationDTO
ImageUpload.Entities.UploadInfo -> ImageUpload.Models.UploadForCreationDTO
   at lambda_method100(Closure, Object, UploadForCreationDTO, ResolutionContext)
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 285
   --- End of inner exception stack trace ---
   at PhotoUpload.Controllers.PhotoUploadController.StoreUploadData(UploadForCreationDTO uploadForCreationDTO) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 295
   at PhotoUpload.Controllers.PhotoUploadController.UploadPhoto(UserdataForCreationDTO userData) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Controllers\PhotoUploadController.cs:line 134
2024-05-21 13:37:49.161 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:37:49.167 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:37:49.168 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:37:49.170 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:37:49.171 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:37:49.174 -04:00 [INF] Executing ObjectResult, writing value of type '<>f__AnonymousType1`2[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2024-05-21 13:37:49.188 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 28421.3648ms
2024-05-21 13:37:49.191 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:37:49.195 -04:00 [DBG] Connection id "0HN3PNIICBVQP" completed keep alive response.
2024-05-21 13:37:49.202 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:37:49.208 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:37:49.213 -04:00 [DBG] Disposed connection to database '' on server '' (5ms).
2024-05-21 13:37:49.219 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 500 null application/json; charset=utf-8 28586.1118ms
2024-05-21 13:38:12.290 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" received FIN.
2024-05-21 13:38:12.296 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:38:12.300 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" disconnecting.
2024-05-21 13:38:12.307 -04:00 [DBG] Connection id "0HN3PNIICBVQQ" stopped.
2024-05-21 13:39:32.288 -04:00 [INF] Application is shutting down...
2024-05-21 13:39:32.288 -04:00 [DBG] Hosting stopping
2024-05-21 13:39:32.291 -04:00 [DBG] Connection id "0HN3PNIICBVQP" disconnecting.
2024-05-21 13:39:32.292 -04:00 [DBG] Connection id "0HN3PNIICBVQP" stopped.
2024-05-21 13:39:32.293 -04:00 [DBG] Connection id "0HN3PNIICBVQP" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:39:32.295 -04:00 [DBG] Hosting stopped
2024-05-21 13:39:35.728 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 13:39:35.769 -04:00 [DBG] Hosting starting
2024-05-21 13:39:35.793 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 13:39:35.795 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 13:39:35.797 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 13:39:35.798 -04:00 [INF] Hosting environment: Development
2024-05-21 13:39:35.798 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 13:39:35.799 -04:00 [DBG] Hosting started
2024-05-21 13:39:36.299 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" accepted.
2024-05-21 13:39:36.300 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" started.
2024-05-21 13:39:36.300 -04:00 [DBG] Connection id "0HN3PNJTQPKG1" accepted.
2024-05-21 13:39:36.304 -04:00 [DBG] Connection id "0HN3PNJTQPKG1" started.
2024-05-21 13:39:36.320 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 13:39:36.325 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 13:39:36.335 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 13:39:36.336 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:39:36.380 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" completed keep alive response.
2024-05-21 13:39:36.384 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 64.0958ms
2024-05-21 13:39:36.451 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 13:39:36.454 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 13:39:36.454 -04:00 [DBG] Request did not match any endpoints
2024-05-21 13:39:36.500 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" completed keep alive response.
2024-05-21 13:39:36.503 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 52.178ms
2024-05-21 13:39:46.234 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryBNrB5CABANNPh8RW 11376433
2024-05-21 13:39:46.243 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.246 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 13:39:46.252 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 13:39:46.258 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:39:46.265 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 13:39:46.268 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:39:46.313 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 13:39:46.323 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 13:39:46.326 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 13:39:46.331 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 13:39:46.335 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 13:39:46.340 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 13:39:46.345 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:39:46.596 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 13:39:46.618 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 13:39:46.633 -04:00 [DBG] Connection id "0HN3PNJTQPKG0", Request id "0HN3PNJTQPKG0:00000003": started reading request body.
2024-05-21 13:39:46.675 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.688 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.703 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.710 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.721 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.730 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.739 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.742 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.753 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.768 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.776 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.781 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.788 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.796 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.806 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.813 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.819 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.824 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.830 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.838 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" paused.
2024-05-21 13:39:46.846 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" resumed.
2024-05-21 13:39:46.849 -04:00 [DBG] Connection id "0HN3PNJTQPKG0", Request id "0HN3PNJTQPKG0:00000003": done reading request body.
2024-05-21 13:39:46.866 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:39:46.877 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 13:39:46.887 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 13:39:46.897 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 13:39:46.904 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 13:39:46.910 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 13:39:46.913 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 13:39:46.917 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 13:39:46.920 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 13:39:46.925 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 13:39:46.929 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 13:39:46.933 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 13:39:46.939 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:39:46.943 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:39:46.947 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 13:39:46.961 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 13:39:46.981 -04:00 [INF] Received backend request to upload photo at 5/21/2024 1:39:46 PM
2024-05-21 13:39:47.055 -04:00 [INF] ClamAV received request to scan house.jpg
2024-05-21 13:39:47.233 -04:00 [INF] Scan result: "Clean"
2024-05-21 13:39:47.239 -04:00 [INF] The file is clean! ScanResult:stream: OK
2024-05-21 13:40:06.177 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 13:40:06.246 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 13:40:06.252 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 13:40:06.275 -04:00 [INF] Creating new upload entity
2024-05-21 13:40:06.283 -04:00 [INF] Creating upload at 5/21/2024 1:40:06 PM
2024-05-21 13:40:06.306 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 13:40:06.680 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 13:40:06.865 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 13:40:06.909 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 13:40:07.064 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 13:40:07.074 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 13:40:07.081 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 13:40:07.109 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 13:40:07.215 -04:00 [DBG] Creating DbConnection.
2024-05-21 13:40:07.246 -04:00 [DBG] Created DbConnection. (28ms).
2024-05-21 13:40:07.254 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:40:07.727 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:40:07.744 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 13:40:07.761 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (12ms).
2024-05-21 13:40:07.786 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (41ms).
2024-05-21 13:40:07.809 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='d82490a3-4040-4ac2-9c5c-bf0d6d97f116.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:39:46.9712029-04:00', @p3='o' (Nullable = false) (Size = 4000), @p4='o' (Nullable = false) (Size = 4000), @p5='o' (Nullable = false) (Size = 4000), @p6='o' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:40:08.004 -04:00 [INF] Executed DbCommand (204ms) [Parameters=[@p0='d82490a3-4040-4ac2-9c5c-bf0d6d97f116.jpg' (Nullable = false) (Size = 4000), @p1='{"CompressionType":"Baseline","DataPrecision":"8 bits","ImageHeight":"5712 pixels","ImageWidth":"4284 pixels","NumberofComponents":"3","Component1":"Y component: Quantization table 0, Sampling factors 2 horiz/2 vert","Component2":"Cb component: Quantization table 1, Sampling factors 1 horiz/1 vert","Component3":"Cr component: Quantization table 1, Sampling factors 1 horiz/1 vert","Version":"1.1","ResolutionUnits":"inch","XResolution":"72 dots","YResolution":"72 dots","ThumbnailWidthPixels":"0","ThumbnailHeightPixels":"0","NumberofTables":"4 Huffman tables","DetectedFileTypeName":"JPEG","DetectedFileTypeLongName":"Joint Photographic Experts Group","DetectedMIMEType":"image/jpeg","ExpectedFileNameExtension":"jpg"}' (Nullable = false) (Size = 4000), @p2='2024-05-21T13:39:46.9712029-04:00', @p3='o' (Nullable = false) (Size = 4000), @p4='o' (Nullable = false) (Size = 4000), @p5='o' (Nullable = false) (Size = 4000), @p6='o' (Nullable = false) (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 13:40:08.054 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed from '-2147482647' to '12' for entity with key '{UploadId: 12}'.
2024-05-21 13:40:08.082 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:40:08.106 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 78ms reading results.
2024-05-21 13:40:08.122 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:40:08.137 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (15ms).
2024-05-21 13:40:08.159 -04:00 [DBG] The 'UploadInfo' entity with key '{UploadId: 12}' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'.
2024-05-21 13:40:08.170 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 13:40:08.195 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 13:40:08.208 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 13:40:08.210 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 13:40:08.215 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 13:40:08.219 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 13:40:08.225 -04:00 [INF] Executing CreatedAtActionResult, writing value of type 'ImageUpload.Models.UploadForCreationDTO'.
2024-05-21 13:40:08.261 -04:00 [DBG] Found the endpoints ["PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)"] for address (guid=[d82490a3-4040-4ac2-9c5c-bf0d6d97f116.jpg],action=[UploadPhoto],controller=[PhotoUpload])
2024-05-21 13:40:08.273 -04:00 [DBG] Successfully processed template api/photoupload for PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) resulting in /api/photoupload and ?guid=d82490a3-4040-4ac2-9c5c-bf0d6d97f116.jpg
2024-05-21 13:40:08.281 -04:00 [DBG] Link generation succeeded for endpoints ["PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)"] with result /api/photoupload?guid=d82490a3-4040-4ac2-9c5c-bf0d6d97f116.jpg
2024-05-21 13:40:08.333 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 21983.4345ms
2024-05-21 13:40:08.355 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 13:40:08.383 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" completed keep alive response.
2024-05-21 13:40:08.403 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 13:40:08.410 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 13:40:08.413 -04:00 [DBG] Disposed connection to database '' on server '' (3ms).
2024-05-21 13:40:08.415 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 201 null application/json; charset=utf-8 22181.1064ms
2024-05-21 13:40:26.834 -04:00 [INF] Application is shutting down...
2024-05-21 13:40:26.836 -04:00 [DBG] Hosting stopping
2024-05-21 13:40:26.842 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" disconnecting.
2024-05-21 13:40:26.842 -04:00 [DBG] Connection id "0HN3PNJTQPKG1" disconnecting.
2024-05-21 13:40:26.844 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" stopped.
2024-05-21 13:40:26.846 -04:00 [DBG] Connection id "0HN3PNJTQPKG1" stopped.
2024-05-21 13:40:26.848 -04:00 [DBG] Connection id "0HN3PNJTQPKG0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:40:26.851 -04:00 [DBG] Connection id "0HN3PNJTQPKG1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 13:40:26.861 -04:00 [DBG] Hosting stopped
