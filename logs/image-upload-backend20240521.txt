2024-05-21 10:59:51.345 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 10:59:51.384 -04:00 [DBG] Hosting starting
2024-05-21 10:59:51.406 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 10:59:51.408 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 10:59:51.409 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 10:59:51.409 -04:00 [INF] Hosting environment: Development
2024-05-21 10:59:51.410 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 10:59:51.410 -04:00 [DBG] Hosting started
2024-05-21 11:12:26.051 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:12:26.096 -04:00 [DBG] Hosting starting
2024-05-21 11:12:26.120 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:12:26.123 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:12:26.124 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:12:26.125 -04:00 [INF] Hosting environment: Development
2024-05-21 11:12:26.125 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:12:26.126 -04:00 [DBG] Hosting started
2024-05-21 11:12:34.546 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" accepted.
2024-05-21 11:12:34.549 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" started.
2024-05-21 11:12:34.549 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" accepted.
2024-05-21 11:12:34.554 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" started.
2024-05-21 11:12:34.570 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:12:34.577 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:12:34.591 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:12:34.593 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:12:34.660 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" completed keep alive response.
2024-05-21 11:12:34.664 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 96.0654ms
2024-05-21 11:12:34.815 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:12:34.817 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:12:34.819 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:12:34.876 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" completed keep alive response.
2024-05-21 11:12:34.878 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 62.8302ms
2024-05-21 11:13:15.482 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryD8i6B0h4yB6Ft0lV 11376471
2024-05-21 11:13:15.486 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.488 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:13:15.490 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:13:15.492 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:13:15.494 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:13:15.496 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:13:15.509 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:13:15.511 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:13:15.513 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:13:15.515 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:13:15.516 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:13:15.518 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:13:15.519 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:13:15.632 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:13:15.643 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:13:15.648 -04:00 [DBG] Connection id "0HN3PL1OO0CLV", Request id "0HN3PL1OO0CLV:00000003": started reading request body.
2024-05-21 11:13:15.660 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.666 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.670 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.672 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.675 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.677 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.680 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.683 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.686 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.688 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.692 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.696 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.698 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.700 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.703 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.706 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.708 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.710 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" paused.
2024-05-21 11:13:15.712 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" resumed.
2024-05-21 11:13:15.714 -04:00 [DBG] Connection id "0HN3PL1OO0CLV", Request id "0HN3PL1OO0CLV:00000003": done reading request body.
2024-05-21 11:13:15.723 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:13:15.725 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:13:15.727 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:13:15.729 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:13:15.731 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:13:15.733 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:13:15.734 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:13:15.735 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:13:15.736 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:13:15.738 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:13:15.739 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:13:15.741 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:13:15.743 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:13:15.745 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:13:15.746 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:13:15.752 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:13:15.759 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:13:15 AM
2024-05-21 11:13:15.762 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:13:15.785 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:13:15.786 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:13:15.791 -04:00 [INF] Creating new upload entity
2024-05-21 11:13:15.793 -04:00 [INF] Creating upload at 5/21/2024 11:13:15 AM
2024-05-21 11:13:16.020 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:13:16.043 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:13:16.103 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:13:16.106 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:13:16.109 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:13:16.115 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:13:16.153 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:13:16.165 -04:00 [DBG] Created DbConnection. (12ms).
2024-05-21 11:13:16.168 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:13:35.236 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" received FIN.
2024-05-21 11:13:35.241 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:13:35.246 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" disconnecting.
2024-05-21 11:13:35.251 -04:00 [DBG] Connection id "0HN3PL1OO0CM0" stopped.
2024-05-21 11:13:45.938 -04:00 [ERR] An error occurred using the connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:13:45.954 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=218; handshake=259; [Login] initialization=1; authentication=1; [Post-Login] complete=29457; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:3228d219-6588-48f4-976f-cd5e0e04f526
Error Number:-2,State:0,Class:11
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=218; handshake=259; [Login] initialization=1; authentication=1; [Post-Login] complete=29457; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
ClientConnectionId:3228d219-6588-48f4-976f-cd5e0e04f526
Error Number:-2,State:0,Class:11
2024-05-21 11:13:45.966 -04:00 [ERR] Error at 5/21/2024 11:13:15 AM creating upload: Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=218; handshake=259; [Login] initialization=1; authentication=1; [Post-Login] complete=29457; 
Microsoft.Data.SqlClient.SqlException (0x80131904): Connection Timeout Expired.  The timeout period elapsed during the post-login phase.  The connection could have timed out while waiting for server to complete the login process and respond; Or it could have timed out while attempting to create multiple active connections.  The duration spent while attempting to connect to this server was - [Pre-Login] initialization=218; handshake=259; [Login] initialization=1; authentication=1; [Post-Login] complete=29457; 
 ---> System.ComponentModel.Win32Exception (258): The wait operation timed out.
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ThrowExceptionAndWarning(Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniError(TdsParserStateObject stateObj, UInt32 error)
   at Microsoft.Data.SqlClient.TdsParserStateObject.ReadSniSyncOverAsync()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadNetworkPacket()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryPrepareBuffer()
   at Microsoft.Data.SqlClient.TdsParserStateObject.TryReadByte(Byte& value)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.TdsParser.Run(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.CompleteLogin(Boolean enlistOK)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.AttemptOneLogin(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean ignoreSniOpenTimeout, TimeoutTimer timeout, Boolean withFailover)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.LoginNoFailover(ServerInfo serverInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString connectionOptions, SqlCredential credential, TimeoutTimer timeout)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds.OpenLoginEnlist(TimeoutTimer timeout, SqlConnectionString connectionOptions, SqlCredential credential, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance)
   at Microsoft.Data.SqlClient.SqlInternalConnectionTds..ctor(DbConnectionPoolIdentity identity, SqlConnectionString connectionOptions, SqlCredential credential, Object providerInfo, String newPassword, SecureString newSecurePassword, Boolean redirectedUserInstance, SqlConnectionString userConnectionOptions, SessionData reconnectSessionData, Boolean applyTransientFaultHandling, String accessToken, DbConnectionPool pool)
   at Microsoft.Data.SqlClient.SqlConnectionFactory.CreateConnection(DbConnectionOptions options, DbConnectionPoolKey poolKey, Object poolGroupProviderInfo, DbConnectionPool pool, DbConnection owningConnection, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionFactory.CreatePooledConnection(DbConnectionPool pool, DbConnection owningObject, DbConnectionOptions options, DbConnectionPoolKey poolKey, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionPool.CreateObject(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.UserCreateRequest(DbConnection owningObject, DbConnectionOptions userOptions, DbConnectionInternal oldConnection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.TryGetConnection(DbConnection owningObject, UInt32 waitForMultipleObjectsTimeout, Boolean allowCreate, Boolean onlyOneCheckConnection, DbConnectionOptions userOptions, DbConnectionInternal& connection)
   at Microsoft.Data.ProviderBase.DbConnectionPool.WaitForPendingOpen()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 50
ClientConnectionId:3228d219-6588-48f4-976f-cd5e0e04f526
Error Number:-2,State:0,Class:11
2024-05-21 11:13:45.987 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:13:45.989 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:13:45.990 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:13:45.990 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:13:45.991 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:13:45.992 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:13:46.002 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 30481.2715ms
2024-05-21 11:13:46.004 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:13:46.005 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" completed keep alive response.
2024-05-21 11:13:46.008 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:13:46.011 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:13:46.013 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:13:46.015 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 30533.1019ms
2024-05-21 11:15:56.797 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" disconnecting.
2024-05-21 11:15:56.800 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" stopped.
2024-05-21 11:15:56.802 -04:00 [DBG] Connection id "0HN3PL1OO0CLV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:16:04.391 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" accepted.
2024-05-21 11:16:04.394 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" started.
2024-05-21 11:16:04.398 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryvYmabyhon6gaAnd6 11376471
2024-05-21 11:16:04.403 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:16:04.403 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:16:04.404 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:16:04.405 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:16:04.406 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:16:04.406 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:16:04.407 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" paused.
2024-05-21 11:16:04.407 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:16:04.409 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:16:04.410 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:16:04.411 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:16:04.412 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:16:04.413 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:16:04.414 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:16:04.416 -04:00 [DBG] Connection id "0HN3PL1OO0CM1", Request id "0HN3PL1OO0CM1:00000001": started reading request body.
2024-05-21 11:16:04.421 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" resumed.
2024-05-21 11:16:04.423 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" paused.
2024-05-21 11:16:04.425 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" resumed.
2024-05-21 11:16:04.426 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" paused.
2024-05-21 11:16:04.428 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" resumed.
2024-05-21 11:16:04.429 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" paused.
2024-05-21 11:16:04.431 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" resumed.
2024-05-21 11:16:04.507 -04:00 [DBG] Connection id "0HN3PL1OO0CM1", Request id "0HN3PL1OO0CM1:00000001": done reading request body.
2024-05-21 11:16:04.508 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:16:04.509 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:16:04.510 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:16:04.511 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:16:04.512 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:16:04.513 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:16:04.515 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:16:04.516 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:16:04.517 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:16:04.518 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:16:04.519 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:16:04.520 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:16:04.521 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:16:04.522 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:16:04.523 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:16:04.524 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:16:04.524 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:16:04 AM
2024-05-21 11:16:04.525 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:16:04.526 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:16:04.526 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:16:04.527 -04:00 [INF] Creating new upload entity
2024-05-21 11:16:04.528 -04:00 [INF] Creating upload at 5/21/2024 11:16:04 AM
2024-05-21 11:16:04.558 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:16:04.560 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:04.561 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:04.562 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:16:04.563 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:16:04.564 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:16:04.565 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:16:04.567 -04:00 [DBG] Created DbConnection. (1ms).
2024-05-21 11:16:04.568 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:16:04.957 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:16:04.961 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:16:04.966 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2024-05-21 11:16:04.973 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-21 11:16:04.977 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:16:05.100 -04:00 [INF] Executed DbCommand (124ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:16:05.112 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:16:05.118 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:16:05.123 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 18ms reading results.
2024-05-21 11:16:05.125 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:16:05.127 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (2ms).
2024-05-21 11:16:05.133 -04:00 [DBG] An entity of type 'UploadInfo' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:16:05.136 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 11:16:05.140 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:16:05.142 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:16:05.142 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:16:05.143 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:16:05.143 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:16:05.144 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:16:05.145 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 732.228ms
2024-05-21 11:16:05.146 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:16:05.147 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" completed keep alive response.
2024-05-21 11:16:05.148 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:16:05.149 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:16:05.150 -04:00 [DBG] Disposed connection to database '' on server '' (0ms).
2024-05-21 11:16:05.151 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 753.2355ms
2024-05-21 11:18:16.691 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" disconnecting.
2024-05-21 11:18:16.695 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" stopped.
2024-05-21 11:18:16.697 -04:00 [DBG] Connection id "0HN3PL1OO0CM1" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:20:31.959 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" accepted.
2024-05-21 11:20:31.964 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" started.
2024-05-21 11:20:31.964 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" accepted.
2024-05-21 11:20:31.967 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:20:31.968 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" started.
2024-05-21 11:20:31.973 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:20:31.977 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:20:31.979 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" completed keep alive response.
2024-05-21 11:20:31.982 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 15.0859ms
2024-05-21 11:20:32.135 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:20:32.146 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:20:32.148 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:20:32.156 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" completed keep alive response.
2024-05-21 11:20:32.159 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.6116ms
2024-05-21 11:20:44.496 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryyKDqf20GVMtjeyKN 11376433
2024-05-21 11:20:44.502 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.503 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:20:44.505 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:20:44.508 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:20:44.510 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:20:44.511 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:20:44.513 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:20:44.515 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:20:44.518 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:20:44.520 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:20:44.524 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:20:44.526 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:20:44.529 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:20:44.531 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:20:44.533 -04:00 [DBG] Connection id "0HN3PL1OO0CM2", Request id "0HN3PL1OO0CM2:00000003": started reading request body.
2024-05-21 11:20:44.537 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.541 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.542 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.544 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.545 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.547 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.549 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.550 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.552 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.554 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.556 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.558 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.560 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.561 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.563 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.565 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.566 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.569 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.571 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.573 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" paused.
2024-05-21 11:20:44.574 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" resumed.
2024-05-21 11:20:44.575 -04:00 [DBG] Connection id "0HN3PL1OO0CM2", Request id "0HN3PL1OO0CM2:00000003": done reading request body.
2024-05-21 11:20:44.579 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:20:44.580 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:20:44.581 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:20:44.582 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:20:44.583 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:20:44.584 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:20:44.585 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:20:44.587 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:20:44.587 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:20:44.588 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:20:44.589 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:20:44.590 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:20:44.591 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:20:44.592 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:20:44.593 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:20:44.593 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:20:44.594 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:20:44 AM
2024-05-21 11:20:44.595 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:20:44.596 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:20:44.596 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:20:44.597 -04:00 [INF] Creating new upload entity
2024-05-21 11:20:44.597 -04:00 [INF] Creating upload at 5/21/2024 11:20:44 AM
2024-05-21 11:20:44.605 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:20:44.606 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:20:44.608 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:20:44.609 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:20:44.610 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:20:44.610 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:20:44.615 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:20:44.616 -04:00 [DBG] Created DbConnection. (0ms).
2024-05-21 11:20:44.617 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:20:44.918 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:20:44.919 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:20:44.920 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2024-05-21 11:20:44.922 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (2ms).
2024-05-21 11:20:44.923 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:20:45.025 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:20:45.031 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:20:45.033 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:20:45.035 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 4ms reading results.
2024-05-21 11:20:45.036 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:20:45.037 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (1ms).
2024-05-21 11:20:45.038 -04:00 [DBG] An entity of type 'UploadInfo' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:20:45.040 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 11:20:45.041 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:20:45.042 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:20:45.042 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:20:45.043 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:20:45.043 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:20:45.044 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:20:45.045 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 516.4582ms
2024-05-21 11:20:45.046 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:20:45.046 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" completed keep alive response.
2024-05-21 11:20:45.048 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:20:45.049 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:20:45.051 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:20:45.052 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 556.2791ms
2024-05-21 11:21:32.237 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" received FIN.
2024-05-21 11:21:32.242 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" disconnecting.
2024-05-21 11:21:32.244 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:21:32.248 -04:00 [DBG] Connection id "0HN3PL1OO0CM3" stopped.
2024-05-21 11:22:42.474 -04:00 [INF] Application is shutting down...
2024-05-21 11:22:42.475 -04:00 [DBG] Hosting stopping
2024-05-21 11:22:42.479 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" disconnecting.
2024-05-21 11:22:42.480 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" stopped.
2024-05-21 11:22:42.481 -04:00 [DBG] Connection id "0HN3PL1OO0CM2" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:22:42.483 -04:00 [DBG] Hosting stopped
2024-05-21 11:22:46.665 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:22:46.706 -04:00 [DBG] Hosting starting
2024-05-21 11:22:46.727 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:22:46.729 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:22:46.729 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:22:46.730 -04:00 [INF] Hosting environment: Development
2024-05-21 11:22:46.730 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:22:46.731 -04:00 [DBG] Hosting started
2024-05-21 11:22:48.826 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" accepted.
2024-05-21 11:22:48.827 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" started.
2024-05-21 11:22:48.827 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" accepted.
2024-05-21 11:22:48.828 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" started.
2024-05-21 11:22:48.839 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:22:48.843 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:22:48.851 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:22:48.853 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:22:48.889 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:22:48.892 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 53.7572ms
2024-05-21 11:22:49.028 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:22:49.030 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:22:49.031 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:22:49.077 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:22:49.080 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.5024ms
2024-05-21 11:23:16.802 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryIVQ0IpGL0BbMYFyB 93419
2024-05-21 11:23:16.807 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:23:16.809 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:23:16.810 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:23:16.812 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:23:16.813 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:23:16.825 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:23:16.828 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:23:16.829 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:23:16.830 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:23:16.833 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:23:16.834 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:23:16.835 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:23:16.922 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:23:16.930 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:23:16.933 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU", Request id "0HN3PL7FQ7MAU:00000003": started reading request body.
2024-05-21 11:23:16.935 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU", Request id "0HN3PL7FQ7MAU:00000003": done reading request body.
2024-05-21 11:23:16.943 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:23:16.946 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:23:16.949 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:23:16.950 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:23:16.953 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:23:16.955 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:23:16.955 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:23:16.957 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:23:16.958 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:23:16.959 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:23:16.960 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:23:16.961 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:23:16.962 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:23:16.963 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:23:16.964 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:23:16.967 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:23:16.972 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:23:16 AM
2024-05-21 11:23:16.974 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:23:16.990 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:23:16.991 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:23:16.995 -04:00 [INF] Creating new upload entity
2024-05-21 11:23:16.997 -04:00 [INF] Creating upload at 5/21/2024 11:23:16 AM
2024-05-21 11:23:17.189 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:23:17.206 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:23:17.252 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:23:17.255 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:23:17.259 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:23:17.266 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:23:17.299 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:23:17.311 -04:00 [DBG] Created DbConnection. (11ms).
2024-05-21 11:23:17.315 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:23:17.790 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:23:17.796 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:23:17.802 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-21 11:23:17.808 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (11ms).
2024-05-21 11:23:17.814 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:23:17.914 -04:00 [INF] Executed DbCommand (102ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:23:17.928 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:23:17.933 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:23:17.939 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 17ms reading results.
2024-05-21 11:23:17.942 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:23:17.945 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (2ms).
2024-05-21 11:23:17.951 -04:00 [DBG] An entity of type 'UploadInfo' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:23:17.955 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 11:23:17.961 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:23:17.963 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:23:17.964 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:23:17.964 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:23:17.966 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:23:17.967 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:23:17.977 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 1140.6325ms
2024-05-21 11:23:17.978 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:23:17.979 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:23:17.982 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:23:17.986 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:23:17.987 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:23:17.988 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 1186.1981ms
2024-05-21 11:23:50.236 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" received FIN.
2024-05-21 11:23:50.242 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:23:50.244 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" disconnecting.
2024-05-21 11:23:50.245 -04:00 [DBG] Connection id "0HN3PL7FQ7MAV" stopped.
2024-05-21 11:24:59.439 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:24:59.440 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" accepted.
2024-05-21 11:24:59.442 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:24:59.443 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" started.
2024-05-21 11:24:59.443 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:24:59.445 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:24:59.446 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 6.7548ms
2024-05-21 11:24:59.581 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:24:59.585 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:24:59.586 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:24:59.590 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:24:59.591 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 9.8323ms
2024-05-21 11:25:03.600 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryGeezCuiw1R9GoS6P 540
2024-05-21 11:25:03.605 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:25:03.606 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:25:03.607 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:25:03.608 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:25:03.609 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:25:03.611 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:25:03.613 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:25:03.616 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:25:03.617 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:25:03.619 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:25:03.620 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:25:03.621 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:25:03.623 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:25:03.624 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU", Request id "0HN3PL7FQ7MAU:00000006": started reading request body.
2024-05-21 11:25:03.625 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU", Request id "0HN3PL7FQ7MAU:00000006": done reading request body.
2024-05-21 11:25:03.626 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:25:03.627 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:25:03.628 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:25:03.630 -04:00 [DBG] No files found in the request to bind the model to.
2024-05-21 11:25:03.630 -04:00 [DBG] No files found in the request to bind the model to.
2024-05-21 11:25:03.631 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:25:03.633 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:25:03.635 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:25:03.636 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:25:03.638 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:25:03.638 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:25:03.640 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:25:03.640 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:25:03.642 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:25:03.643 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:25:03.643 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:25:03.644 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:25:03.645 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:25:03.646 -04:00 [DBG] The request has model state errors, returning an error response.
2024-05-21 11:25:03.650 -04:00 [DBG] Request was short circuited at action filter 'Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter'.
2024-05-21 11:25:03.652 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:25:03.653 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:25:03.654 -04:00 [DBG] Attempting to select the first output formatter in the output formatters list which supports a content type from the explicitly specified content types '["application/problem+json","application/problem+xml","application/problem+json","application/problem+xml"]'.
2024-05-21 11:25:03.655 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/problem+json' to write the response.
2024-05-21 11:25:03.656 -04:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2024-05-21 11:25:03.664 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 42.8145ms
2024-05-21 11:25:03.665 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:25:03.666 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" completed keep alive response.
2024-05-21 11:25:03.667 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 400 null application/problem+json; charset=utf-8 66.9261ms
2024-05-21 11:26:02.239 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" received FIN.
2024-05-21 11:26:02.242 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:26:02.245 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" disconnecting.
2024-05-21 11:26:02.246 -04:00 [DBG] Connection id "0HN3PL7FQ7MB0" stopped.
2024-05-21 11:27:14.604 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" disconnecting.
2024-05-21 11:27:14.608 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" stopped.
2024-05-21 11:27:14.611 -04:00 [DBG] Connection id "0HN3PL7FQ7MAU" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:29:44.669 -04:00 [INF] Application is shutting down...
2024-05-21 11:29:44.671 -04:00 [DBG] Hosting stopping
2024-05-21 11:29:44.685 -04:00 [DBG] Hosting stopped
2024-05-21 11:30:01.543 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:30:01.583 -04:00 [DBG] Hosting starting
2024-05-21 11:30:01.606 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:30:01.609 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:30:01.611 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:30:01.611 -04:00 [INF] Hosting environment: Development
2024-05-21 11:30:01.612 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:30:01.613 -04:00 [DBG] Hosting started
2024-05-21 11:30:04.114 -04:00 [DBG] Connection id "0HN3PLBHHF40M" accepted.
2024-05-21 11:30:04.117 -04:00 [DBG] Connection id "0HN3PLBHHF40N" accepted.
2024-05-21 11:30:04.117 -04:00 [DBG] Connection id "0HN3PLBHHF40M" started.
2024-05-21 11:30:04.119 -04:00 [DBG] Connection id "0HN3PLBHHF40N" started.
2024-05-21 11:30:04.129 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:30:04.134 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:30:04.141 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:30:04.142 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:30:04.173 -04:00 [DBG] Connection id "0HN3PLBHHF40M" completed keep alive response.
2024-05-21 11:30:04.176 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 47.3293ms
2024-05-21 11:30:04.218 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:30:04.221 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:30:04.221 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:30:04.266 -04:00 [DBG] Connection id "0HN3PLBHHF40M" completed keep alive response.
2024-05-21 11:30:04.269 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.5911ms
2024-05-21 11:30:15.736 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundarySBsNNoLAHXgYtFMf 4930395
2024-05-21 11:30:15.740 -04:00 [DBG] Connection id "0HN3PLBHHF40M" paused.
2024-05-21 11:30:15.742 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:30:15.746 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:30:15.749 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:30:15.752 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:30:15.753 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:30:15.769 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:30:15.773 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:30:15.775 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:30:15.778 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:30:15.779 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:30:15.782 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:30:15.785 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:30:15.881 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:30:15.893 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:30:15.898 -04:00 [DBG] Connection id "0HN3PLBHHF40M", Request id "0HN3PLBHHF40M:00000003": started reading request body.
2024-05-21 11:30:15.910 -04:00 [DBG] Connection id "0HN3PLBHHF40M" resumed.
2024-05-21 11:30:15.915 -04:00 [DBG] Connection id "0HN3PLBHHF40M" paused.
2024-05-21 11:30:15.918 -04:00 [DBG] Connection id "0HN3PLBHHF40M" resumed.
2024-05-21 11:30:15.923 -04:00 [DBG] Connection id "0HN3PLBHHF40M" paused.
2024-05-21 11:30:15.925 -04:00 [DBG] Connection id "0HN3PLBHHF40M" resumed.
2024-05-21 11:30:15.929 -04:00 [DBG] Connection id "0HN3PLBHHF40M", Request id "0HN3PLBHHF40M:00000003": done reading request body.
2024-05-21 11:30:15.936 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:30:15.939 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:30:15.942 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:30:15.945 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:30:15.947 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:30:15.950 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:30:15.952 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:30:15.953 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:30:15.954 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:30:15.956 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:30:15.957 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:30:15.959 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:30:15.960 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:30:15.961 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:30:15.962 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:30:15.967 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:30:15.973 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:30:15 AM
2024-05-21 11:30:15.976 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:30:15.996 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:30:15.999 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:30:16.005 -04:00 [INF] Creating new upload entity
2024-05-21 11:30:16.007 -04:00 [INF] Creating upload at 5/21/2024 11:30:16 AM
2024-05-21 11:30:16.202 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:30:16.226 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:30:16.273 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:30:16.276 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:30:16.279 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:30:16.286 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:30:16.323 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:30:16.336 -04:00 [DBG] Created DbConnection. (12ms).
2024-05-21 11:30:16.340 -04:00 [DBG] Opening connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:30:16.705 -04:00 [DBG] Opened connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:30:16.710 -04:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2024-05-21 11:30:16.716 -04:00 [DBG] Created DbCommand for 'ExecuteReader' (4ms).
2024-05-21 11:30:16.725 -04:00 [DBG] Initialized DbCommand for 'ExecuteReader' (14ms).
2024-05-21 11:30:16.730 -04:00 [DBG] Executing DbCommand [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:30:16.804 -04:00 [INF] Executed DbCommand (75ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 4000), @p2='?' (DbType = DateTime2), @p3='?' (Size = 4000), @p4='?' (Size = 4000), @p5='?' (Size = 4000), @p6='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [UploadInfo] ([AzureStorageId], [MetadataJson], [UploadTime], [UploaderCompany], [UploaderEmail], [UploaderLocation], [UploaderName])
OUTPUT INSERTED.[UploadId]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6);
2024-05-21 11:30:16.821 -04:00 [DBG] The foreign key property 'UploadInfo.UploadId' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see property values.
2024-05-21 11:30:16.829 -04:00 [DBG] Closing data reader to 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:30:16.837 -04:00 [DBG] A data reader for 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' is being disposed after spending 25ms reading results.
2024-05-21 11:30:16.842 -04:00 [DBG] Closing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:30:16.846 -04:00 [DBG] Closed connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433' (4ms).
2024-05-21 11:30:16.856 -04:00 [DBG] An entity of type 'UploadInfo' tracked by 'MediaServiceContext' changed state from '"Added"' to '"Unchanged"'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:30:16.859 -04:00 [DBG] SaveChanges completed for 'MediaServiceContext' with 1 entities written to the database.
2024-05-21 11:30:16.861 -04:00 [INF] createdUpload: ImageUpload.Entities.UploadInfo
2024-05-21 11:30:16.868 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:30:16.871 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:30:16.872 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:30:16.873 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:30:16.874 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:30:16.876 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:30:16.890 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 1104.5385ms
2024-05-21 11:30:16.891 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:30:16.894 -04:00 [DBG] Connection id "0HN3PLBHHF40M" completed keep alive response.
2024-05-21 11:30:16.897 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:30:16.902 -04:00 [DBG] Disposing connection to database 'In8Ops' on server 'tcp:ga811-prod.database.windows.net,1433'.
2024-05-21 11:30:16.903 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:30:16.904 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 1168.0689ms
2024-05-21 11:30:50.619 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 11:30:50.874 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 11:30:59.116 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 11:30:59.380 -04:00 [DBG] Config reload token fired. Checking for changes...
2024-05-21 11:31:02.732 -04:00 [INF] Application is shutting down...
2024-05-21 11:31:02.733 -04:00 [DBG] Hosting stopping
2024-05-21 11:31:02.740 -04:00 [DBG] Connection id "0HN3PLBHHF40M" disconnecting.
2024-05-21 11:31:02.740 -04:00 [DBG] Connection id "0HN3PLBHHF40N" disconnecting.
2024-05-21 11:31:02.742 -04:00 [DBG] Connection id "0HN3PLBHHF40M" stopped.
2024-05-21 11:31:02.742 -04:00 [DBG] Connection id "0HN3PLBHHF40N" stopped.
2024-05-21 11:31:02.744 -04:00 [DBG] Connection id "0HN3PLBHHF40M" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:31:02.745 -04:00 [DBG] Connection id "0HN3PLBHHF40N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:31:02.749 -04:00 [DBG] Hosting stopped
2024-05-21 11:31:06.000 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:31:06.038 -04:00 [DBG] Hosting starting
2024-05-21 11:31:06.060 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:31:06.061 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:31:06.062 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:31:06.062 -04:00 [INF] Hosting environment: Development
2024-05-21 11:31:06.063 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:31:06.064 -04:00 [DBG] Hosting started
2024-05-21 11:31:06.152 -04:00 [DBG] Connection id "0HN3PLC413I6P" accepted.
2024-05-21 11:31:06.153 -04:00 [DBG] Connection id "0HN3PLC413I6P" started.
2024-05-21 11:31:06.153 -04:00 [DBG] Connection id "0HN3PLC413I6Q" accepted.
2024-05-21 11:31:06.155 -04:00 [DBG] Connection id "0HN3PLC413I6Q" started.
2024-05-21 11:31:06.164 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:31:06.169 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:31:06.176 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:31:06.177 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:31:06.210 -04:00 [DBG] Connection id "0HN3PLC413I6P" completed keep alive response.
2024-05-21 11:31:06.212 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 49.3034ms
2024-05-21 11:31:06.373 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:31:06.375 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:31:06.376 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:31:06.422 -04:00 [DBG] Connection id "0HN3PLC413I6P" completed keep alive response.
2024-05-21 11:31:06.423 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 50.6697ms
2024-05-21 11:31:08.221 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:31:08.224 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:31:08.225 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:31:08.227 -04:00 [DBG] Connection id "0HN3PLC413I6P" completed keep alive response.
2024-05-21 11:31:08.227 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 6.6075ms
2024-05-21 11:31:08.338 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:31:08.348 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:31:08.350 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:31:08.353 -04:00 [DBG] Connection id "0HN3PLC413I6P" completed keep alive response.
2024-05-21 11:31:08.353 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.7267ms
2024-05-21 11:31:18.610 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryI886C51zqBYKffwv 4930395
2024-05-21 11:31:18.616 -04:00 [DBG] Connection id "0HN3PLC413I6P" paused.
2024-05-21 11:31:18.620 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:31:18.622 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:31:18.625 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:31:18.628 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:31:18.629 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:31:18.647 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:31:18.652 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:31:18.654 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:31:18.657 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:31:18.659 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:31:18.660 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:31:18.662 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:31:18.791 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:31:18.804 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:31:18.810 -04:00 [DBG] Connection id "0HN3PLC413I6P", Request id "0HN3PLC413I6P:00000005": started reading request body.
2024-05-21 11:31:18.821 -04:00 [DBG] Connection id "0HN3PLC413I6P" resumed.
2024-05-21 11:31:18.825 -04:00 [DBG] Connection id "0HN3PLC413I6P" paused.
2024-05-21 11:31:18.827 -04:00 [DBG] Connection id "0HN3PLC413I6P" resumed.
2024-05-21 11:31:18.828 -04:00 [DBG] Connection id "0HN3PLC413I6P" paused.
2024-05-21 11:31:18.831 -04:00 [DBG] Connection id "0HN3PLC413I6P" resumed.
2024-05-21 11:31:18.833 -04:00 [DBG] Connection id "0HN3PLC413I6P" paused.
2024-05-21 11:31:18.835 -04:00 [DBG] Connection id "0HN3PLC413I6P" resumed.
2024-05-21 11:31:18.836 -04:00 [DBG] Connection id "0HN3PLC413I6P" paused.
2024-05-21 11:31:18.839 -04:00 [DBG] Connection id "0HN3PLC413I6P" resumed.
2024-05-21 11:31:18.840 -04:00 [DBG] Connection id "0HN3PLC413I6P", Request id "0HN3PLC413I6P:00000005": done reading request body.
2024-05-21 11:31:18.846 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:31:18.848 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:31:18.851 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:31:18.852 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:31:18.854 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:31:18.855 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:31:18.856 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:31:18.857 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:31:18.858 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:31:18.860 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:31:18.861 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:31:18.862 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:31:18.863 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:31:18.864 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:31:18.865 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:31:18.868 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:31:18.872 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:31:18 AM
2024-05-21 11:31:18.873 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:31:18.891 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:31:18.893 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:31:18.898 -04:00 [INF] Creating new upload entity
2024-05-21 11:31:18.900 -04:00 [INF] Creating upload at 5/21/2024 11:31:18 AM
2024-05-21 11:31:19.082 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: None
2024-05-21 11:31:19.099 -04:00 [DBG] 'MediaServiceContext' generated a temporary value for the property 'UploadInfo.UploadId'. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:31:19.141 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2024-05-21 11:31:19.144 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:31:19.146 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:31:19.153 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:31:19.184 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:31:19.190 -04:00 [DBG] Created DbConnection. (5ms).
2024-05-21 11:31:19.192 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 11:31:19.222 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 11:31:19.230 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 11:31:19.239 -04:00 [ERR] Error at 5/21/2024 11:31:18 AM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 50
2024-05-21 11:31:19.249 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:31:19.252 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:31:19.252 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:31:19.253 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:31:19.254 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:31:19.255 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:31:19.264 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 601.1934ms
2024-05-21 11:31:19.266 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:31:19.267 -04:00 [DBG] Connection id "0HN3PLC413I6P" completed keep alive response.
2024-05-21 11:31:19.270 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:31:19.274 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 11:31:19.277 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:31:19.279 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 669.0313ms
2024-05-21 11:32:08.233 -04:00 [DBG] Connection id "0HN3PLC413I6Q" received FIN.
2024-05-21 11:32:08.237 -04:00 [DBG] Connection id "0HN3PLC413I6Q" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:32:08.239 -04:00 [DBG] Connection id "0HN3PLC413I6Q" disconnecting.
2024-05-21 11:32:08.241 -04:00 [DBG] Connection id "0HN3PLC413I6Q" stopped.
2024-05-21 11:33:31.108 -04:00 [DBG] Connection id "0HN3PLC413I6P" disconnecting.
2024-05-21 11:33:31.112 -04:00 [DBG] Connection id "0HN3PLC413I6P" stopped.
2024-05-21 11:33:31.114 -04:00 [DBG] Connection id "0HN3PLC413I6P" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:38:26.625 -04:00 [INF] Application is shutting down...
2024-05-21 11:38:26.626 -04:00 [DBG] Hosting stopping
2024-05-21 11:38:26.632 -04:00 [DBG] Hosting stopped
2024-05-21 11:38:29.726 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:38:29.767 -04:00 [DBG] Hosting starting
2024-05-21 11:38:29.788 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:38:29.790 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:38:29.791 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:38:29.791 -04:00 [INF] Hosting environment: Development
2024-05-21 11:38:29.792 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:38:29.792 -04:00 [DBG] Hosting started
2024-05-21 11:38:31.405 -04:00 [DBG] Connection id "0HN3PLG8NC65N" accepted.
2024-05-21 11:38:31.406 -04:00 [DBG] Connection id "0HN3PLG8NC65N" started.
2024-05-21 11:38:31.407 -04:00 [DBG] Connection id "0HN3PLG8NC65O" accepted.
2024-05-21 11:38:31.408 -04:00 [DBG] Connection id "0HN3PLG8NC65O" started.
2024-05-21 11:38:31.418 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:38:31.422 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:38:31.431 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:38:31.432 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:38:31.470 -04:00 [DBG] Connection id "0HN3PLG8NC65N" completed keep alive response.
2024-05-21 11:38:31.472 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 54.1036ms
2024-05-21 11:38:31.599 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:38:31.601 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:38:31.602 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:38:31.650 -04:00 [DBG] Connection id "0HN3PLG8NC65N" completed keep alive response.
2024-05-21 11:38:31.653 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 54.5158ms
2024-05-21 11:38:42.848 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryGVX5B4x5RnHKktbL 4930395
2024-05-21 11:38:42.852 -04:00 [DBG] Connection id "0HN3PLG8NC65N" paused.
2024-05-21 11:38:42.856 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:38:42.859 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:38:42.862 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:38:42.867 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:38:42.871 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:38:42.890 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:38:42.896 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:38:42.898 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:38:42.901 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:38:42.903 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:38:42.904 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:38:42.907 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:38:43.010 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:38:43.017 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:38:43.021 -04:00 [DBG] Connection id "0HN3PLG8NC65N", Request id "0HN3PLG8NC65N:00000003": started reading request body.
2024-05-21 11:38:43.031 -04:00 [DBG] Connection id "0HN3PLG8NC65N" resumed.
2024-05-21 11:38:43.034 -04:00 [DBG] Connection id "0HN3PLG8NC65N" paused.
2024-05-21 11:38:43.036 -04:00 [DBG] Connection id "0HN3PLG8NC65N" resumed.
2024-05-21 11:38:43.039 -04:00 [DBG] Connection id "0HN3PLG8NC65N" paused.
2024-05-21 11:38:43.042 -04:00 [DBG] Connection id "0HN3PLG8NC65N" resumed.
2024-05-21 11:38:43.045 -04:00 [DBG] Connection id "0HN3PLG8NC65N" paused.
2024-05-21 11:38:43.047 -04:00 [DBG] Connection id "0HN3PLG8NC65N" resumed.
2024-05-21 11:38:43.050 -04:00 [DBG] Connection id "0HN3PLG8NC65N", Request id "0HN3PLG8NC65N:00000003": done reading request body.
2024-05-21 11:38:43.056 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:38:43.058 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:38:43.060 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:38:43.063 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:38:43.065 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:38:43.067 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:38:43.068 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:38:43.069 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:38:43.071 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:38:43.072 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:38:43.074 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:38:43.076 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:38:43.077 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:38:43.078 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:38:43.080 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:38:43.084 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:38:43.088 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:38:43 AM
2024-05-21 11:38:43.090 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:38:43.112 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:38:43.114 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:38:43.118 -04:00 [INF] Creating new upload entity
2024-05-21 11:38:43.120 -04:00 [INF] Creating upload at 5/21/2024 11:38:43 AM
2024-05-21 11:38:43.126 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 11:38:43.255 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 11:38:43.320 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 11:38:43.339 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 11:38:43.386 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 11:38:43.389 -04:00 [INF] UploadInfo {UploadId: -2147482647} Added
2024-05-21 11:38:43.391 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:38:43.393 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:38:43.400 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:38:43.436 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:38:43.443 -04:00 [DBG] Created DbConnection. (5ms).
2024-05-21 11:38:43.446 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 11:38:43.481 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 11:38:43.490 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 11:38:43.499 -04:00 [ERR] Error at 5/21/2024 11:38:43 AM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 52
2024-05-21 11:38:43.509 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:38:43.511 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:38:43.511 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:38:43.512 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:38:43.513 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:38:43.514 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:38:43.525 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 616.905ms
2024-05-21 11:38:43.526 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:38:43.528 -04:00 [DBG] Connection id "0HN3PLG8NC65N" completed keep alive response.
2024-05-21 11:38:43.531 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:38:43.535 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 11:38:43.538 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:38:43.539 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 691.5578ms
2024-05-21 11:39:32.227 -04:00 [DBG] Connection id "0HN3PLG8NC65O" received FIN.
2024-05-21 11:39:32.230 -04:00 [DBG] Connection id "0HN3PLG8NC65O" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:39:32.232 -04:00 [DBG] Connection id "0HN3PLG8NC65O" disconnecting.
2024-05-21 11:39:32.234 -04:00 [DBG] Connection id "0HN3PLG8NC65O" stopped.
2024-05-21 11:40:54.731 -04:00 [DBG] Connection id "0HN3PLG8NC65N" disconnecting.
2024-05-21 11:40:54.734 -04:00 [DBG] Connection id "0HN3PLG8NC65N" stopped.
2024-05-21 11:40:54.736 -04:00 [DBG] Connection id "0HN3PLG8NC65N" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:44:32.743 -04:00 [INF] Application is shutting down...
2024-05-21 11:44:32.744 -04:00 [DBG] Hosting stopping
2024-05-21 11:44:32.752 -04:00 [DBG] Hosting stopped
2024-05-21 11:44:44.523 -04:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2024-05-21 11:44:44.562 -04:00 [DBG] Hosting starting
2024-05-21 11:44:44.584 -04:00 [INF] Now listening on: http://localhost:5111
2024-05-21 11:44:44.585 -04:00 [DBG] Loaded hosting startup assembly MediaService
2024-05-21 11:44:44.586 -04:00 [INF] Application started. Press Ctrl+C to shut down.
2024-05-21 11:44:44.587 -04:00 [INF] Hosting environment: Development
2024-05-21 11:44:44.588 -04:00 [INF] Content root path: C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend
2024-05-21 11:44:44.588 -04:00 [DBG] Hosting started
2024-05-21 11:44:48.485 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" accepted.
2024-05-21 11:44:48.486 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" started.
2024-05-21 11:44:48.486 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" accepted.
2024-05-21 11:44:48.488 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" started.
2024-05-21 11:44:48.498 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/index.html - null null
2024-05-21 11:44:48.501 -04:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2024-05-21 11:44:48.512 -04:00 [DBG] No candidates found for the request path '/swagger/index.html'
2024-05-21 11:44:48.513 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:44:48.548 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" completed keep alive response.
2024-05-21 11:44:48.550 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/index.html - 200 null text/html;charset=utf-8 52.3987ms
2024-05-21 11:44:48.594 -04:00 [INF] Request starting HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - null null
2024-05-21 11:44:48.597 -04:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2024-05-21 11:44:48.598 -04:00 [DBG] Request did not match any endpoints
2024-05-21 11:44:48.644 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" completed keep alive response.
2024-05-21 11:44:48.646 -04:00 [INF] Request finished HTTP/1.1 GET http://localhost:5111/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 51.956ms
2024-05-21 11:44:57.710 -04:00 [INF] Request starting HTTP/1.1 POST http://localhost:5111/api/photoupload - multipart/form-data; boundary=----WebKitFormBoundaryH0fFsLHcPSqu1OUT 10516980
2024-05-21 11:44:57.720 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" paused.
2024-05-21 11:44:57.721 -04:00 [DBG] 1 candidate(s) found for the request path '/api/photoupload'
2024-05-21 11:44:57.726 -04:00 [DBG] Endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)' with route pattern 'api/photoupload' is valid for the request path '/api/photoupload'
2024-05-21 11:44:57.728 -04:00 [DBG] Request matched endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:44:57.731 -04:00 [DBG] Static files was skipped as the request already matched an endpoint.
2024-05-21 11:44:57.733 -04:00 [INF] Executing endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:44:57.750 -04:00 [INF] Route matched with {action = "UploadPhoto", controller = "PhotoUpload"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UploadPhoto(ImageUpload.Models.UserdataForCreationDTO) on controller PhotoUpload.Controllers.PhotoUploadController (MediaService).
2024-05-21 11:44:57.756 -04:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2024-05-21 11:44:57.758 -04:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2024-05-21 11:44:57.761 -04:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2024-05-21 11:44:57.764 -04:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2024-05-21 11:44:57.766 -04:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2024-05-21 11:44:57.769 -04:00 [DBG] Executing controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:44:57.910 -04:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2024-05-21 11:44:57.923 -04:00 [DBG] Executed controller factory for controller PhotoUpload.Controllers.PhotoUploadController (MediaService)
2024-05-21 11:44:57.929 -04:00 [DBG] Connection id "0HN3PLJP3FOPD", Request id "0HN3PLJP3FOPD:00000003": started reading request body.
2024-05-21 11:44:57.944 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" resumed.
2024-05-21 11:44:57.948 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" paused.
2024-05-21 11:44:57.950 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" resumed.
2024-05-21 11:44:57.952 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" paused.
2024-05-21 11:44:57.954 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" resumed.
2024-05-21 11:44:57.956 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" paused.
2024-05-21 11:44:57.959 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" resumed.
2024-05-21 11:44:57.998 -04:00 [DBG] Connection id "0HN3PLJP3FOPD", Request id "0HN3PLJP3FOPD:00000003": done reading request body.
2024-05-21 11:44:58.001 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:44:58.003 -04:00 [DBG] Attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' using the name '' in request data ...
2024-05-21 11:44:58.006 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile' using the name 'Photo' in request data ...
2024-05-21 11:44:58.007 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.Photo' of type 'Microsoft.AspNetCore.Http.IFormFile'.
2024-05-21 11:44:58.009 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String' using the name 'UploaderName' in request data ...
2024-05-21 11:44:58.011 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderName' of type 'System.String'.
2024-05-21 11:44:58.012 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String' using the name 'UploaderCompany' in request data ...
2024-05-21 11:44:58.013 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderCompany' of type 'System.String'.
2024-05-21 11:44:58.014 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String' using the name 'UploaderLocation' in request data ...
2024-05-21 11:44:58.015 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderLocation' of type 'System.String'.
2024-05-21 11:44:58.016 -04:00 [DBG] Attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String' using the name 'UploaderEmail' in request data ...
2024-05-21 11:44:58.018 -04:00 [DBG] Done attempting to bind property 'ImageUpload.Models.UserdataForCreationDTO.UploaderEmail' of type 'System.String'.
2024-05-21 11:44:58.019 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:44:58.019 -04:00 [DBG] Done attempting to bind parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:44:58.020 -04:00 [DBG] Attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO' ...
2024-05-21 11:44:58.025 -04:00 [DBG] Done attempting to validate the bound parameter 'userData' of type 'ImageUpload.Models.UserdataForCreationDTO'.
2024-05-21 11:44:58.029 -04:00 [INF] Received backend request to upload photo at 5/21/2024 11:44:58 AM
2024-05-21 11:44:58.031 -04:00 [INF] Extracting EXIF metadata from photo
2024-05-21 11:44:58.047 -04:00 [INF] EXIF metadata extracted successfully
2024-05-21 11:44:58.049 -04:00 [INF] Mapping upload DTO to upload entity
2024-05-21 11:44:58.053 -04:00 [INF] Creating new upload entity
2024-05-21 11:44:58.054 -04:00 [INF] Creating upload at 5/21/2024 11:44:58 AM
2024-05-21 11:44:58.059 -04:00 [DBG] An additional 'IServiceProvider' was created for internal use by Entity Framework. An existing service provider was not used due to the following configuration changes: configuration changed for 'Core:EnableSensitiveDataLogging'.
2024-05-21 11:44:58.189 -04:00 [WRN] Sensitive data logging is enabled. Log entries and exception messages may include sensitive application data; this mode should only be enabled during development.
2024-05-21 11:44:58.251 -04:00 [DBG] Entity Framework Core 8.0.5 initialized 'MediaServiceContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:8.0.5' with options: SensitiveDataLoggingEnabled 
2024-05-21 11:44:58.270 -04:00 [DBG] 'MediaServiceContext' generated temporary value '-2147482647' for the property 'UploadInfo.UploadId'.
2024-05-21 11:44:58.318 -04:00 [DBG] Context 'MediaServiceContext' started tracking 'UploadInfo' entity with key '{UploadId: -2147482647}'.
2024-05-21 11:44:58.321 -04:00 [DBG] SaveChanges starting for 'MediaServiceContext'.
2024-05-21 11:44:58.323 -04:00 [DBG] DetectChanges starting for 'MediaServiceContext'.
2024-05-21 11:44:58.329 -04:00 [DBG] DetectChanges completed for 'MediaServiceContext'.
2024-05-21 11:44:58.363 -04:00 [DBG] Creating DbConnection.
2024-05-21 11:44:58.370 -04:00 [DBG] Created DbConnection. (6ms).
2024-05-21 11:44:58.372 -04:00 [DBG] Opening connection to database '' on server ''.
2024-05-21 11:44:58.406 -04:00 [ERR] An error occurred using the connection to database '' on server ''.
2024-05-21 11:44:58.416 -04:00 [ERR] An exception occurred in the database while saving changes for context type 'MediaService.DbContexts.MediaServiceContext'.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2024-05-21 11:44:58.425 -04:00 [ERR] Error at 5/21/2024 11:44:58 AM creating upload: The ConnectionString property has not been initialized.
System.InvalidOperationException: The ConnectionString property has not been initialized.
   at Microsoft.Data.SqlClient.SqlConnection.PermissionDemand()
   at Microsoft.Data.SqlClient.SqlConnectionFactory.PermissionDemand(DbConnection outerConnection)
   at Microsoft.Data.ProviderBase.DbConnectionInternal.TryOpenConnectionInternal(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.ProviderBase.DbConnectionClosed.TryOpenConnection(DbConnection outerConnection, DbConnectionFactory connectionFactory, TaskCompletionSource`1 retry, DbConnectionOptions userOptions)
   at Microsoft.Data.SqlClient.SqlConnection.TryOpen(TaskCompletionSource`1 retry, SqlConnectionOverrides overrides)
   at Microsoft.Data.SqlClient.SqlConnection.InternalOpenAsync(CancellationToken cancellationToken)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenInternalAsync(Boolean errorsExpected, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalConnection.OpenAsync(CancellationToken cancellationToken, Boolean errorsExpected)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.<>c__DisplayClass30_0`2.<<ExecuteAsync>b__0>d.MoveNext()
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteImplementationAsync[TState,TResult](Func`4 operation, Func`4 verifySucceeded, TState state, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.ExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at MediaService.Services.UploadInfoRepo.CreateUploadAsync(UploadInfo uploadToCreate) in C:\Users\wchesson\chessoncode\MediaServiceGA811\image-upload-backend\Services\UploadInfoRepo.cs:line 57
2024-05-21 11:44:58.434 -04:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2024-05-21 11:44:58.437 -04:00 [DBG] No information found on request to perform content negotiation.
2024-05-21 11:44:58.437 -04:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2024-05-21 11:44:58.438 -04:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2024-05-21 11:44:58.439 -04:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2024-05-21 11:44:58.440 -04:00 [INF] Executing OkObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ActionResult`1[[ImageUpload.Models.UploadForCreationDTO, MediaService, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-05-21 11:44:58.450 -04:00 [INF] Executed action PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService) in 680.8065ms
2024-05-21 11:44:58.451 -04:00 [INF] Executed endpoint 'PhotoUpload.Controllers.PhotoUploadController.UploadPhoto (MediaService)'
2024-05-21 11:44:58.453 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" completed keep alive response.
2024-05-21 11:44:58.456 -04:00 [DBG] 'MediaServiceContext' disposed.
2024-05-21 11:44:58.459 -04:00 [DBG] Disposing connection to database '' on server ''.
2024-05-21 11:44:58.463 -04:00 [DBG] Disposed connection to database '' on server '' (1ms).
2024-05-21 11:44:58.464 -04:00 [INF] Request finished HTTP/1.1 POST http://localhost:5111/api/photoupload - 200 null application/json; charset=utf-8 753.8873ms
2024-05-21 11:45:49.661 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" received FIN.
2024-05-21 11:45:49.664 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:45:49.666 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" disconnecting.
2024-05-21 11:45:49.667 -04:00 [DBG] Connection id "0HN3PLJP3FOPE" stopped.
2024-05-21 11:47:09.604 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" disconnecting.
2024-05-21 11:47:09.609 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" stopped.
2024-05-21 11:47:09.612 -04:00 [DBG] Connection id "0HN3PLJP3FOPD" sending FIN because: "The Socket transport's send loop completed gracefully."
2024-05-21 11:53:24.802 -04:00 [INF] Application is shutting down...
2024-05-21 11:53:24.803 -04:00 [DBG] Hosting stopping
2024-05-21 11:53:24.810 -04:00 [DBG] Hosting stopped
